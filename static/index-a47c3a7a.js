import{h as e}from"../js/hotkeys-js/hotkeys-js.e364e5e1.js";import{N as t}from"../js/nprogress/nprogress.204a1a2a.js";import{t as o}from"../js/lodash-es/lodash-es.8b477e85.js";/* empty css                                      */import"../js/dplayer/dplayer.87601a3d.js";!function(){const e=document.createElement("link").relList;if(!(e&&e.supports&&e.supports("modulepreload"))){for(const e of document.querySelectorAll('link[rel="modulepreload"]'))t(e);new MutationObserver((e=>{for(const o of e)if("childList"===o.type)for(const e of o.addedNodes)"LINK"===e.tagName&&"modulepreload"===e.rel&&t(e)})).observe(document,{childList:!0,subtree:!0})}function t(e){if(e.ep)return;e.ep=!0;const t=function(e){const t={};return e.integrity&&(t.integrity=e.integrity),e.referrerPolicy&&(t.referrerPolicy=e.referrerPolicy),"use-credentials"===e.crossOrigin?t.credentials="include":"anonymous"===e.crossOrigin?t.credentials="omit":t.credentials="same-origin",t}(e);fetch(e.href,t)}}();var n=(e=>(e.LOCAL="local",e.SESSION="session",e.COOkIE="cookie",e))(n||{}),a=(e=>(e.SUCCESS="success",e.ERROR="error",e.INFO="info",e.WARNING="warning",e))(a||{});const l=axios.create({timeout:1e4,baseURL:"https://service-pk4g258u-1317364873.gz.apigw.tencentcs.com/release/",withCredentials:!0});l.interceptors.request.use((e=>{const t=te(n.SESSION,"token");return t&&(e.headers.Authorization=`${t}`),e}),(e=>{Z(a.ERROR,e.message)})),l.interceptors.response.use((e=>e.data),(e=>{Z(a.ERROR,e.message)}));const u=()=>l.get("/banner?type=0"),r=e=>l.get(`/record/recent/song?limit=${e}`),s=e=>l.get(`/song/url?id=${e}&br=320000`),i=(e,t,o,n)=>l.get(`/mv/all?limit=${e}&area=${t}&type=${o}&order=${n}`),c=e=>l.get(`/playlist/detail?id=${e}`),V=e=>l.get(`/playlist/track/all?id=${e}`),d=(e,t,o)=>l.get(`/search?keywords=${o}&type=${e}&limit=${t}`),m=e=>l.get(`/mv/detail?mvid=${e}`),p=e=>l.get(`/mv/url?id=${e}`),v=e=>l.get(`/simi/mv?mvid=${e}`),f=()=>l.get("/style/list"),g=e=>l.get(`/style/playlist?tagId=${e}&size=50`),h=e=>l.get(`/artists?id=${e}`),y=e=>l.get(`/artist/mv?id=${e}`),w=e=>l.get(`/artist/desc?id=${e}`),k=e=>l.get(`/artist/album?id=${e}`),C=e=>l.get(`/song/detail?ids=${e}`),E=e=>l.get(`/album?id=${e}`),N=e=>l.get(`/lyric?id=${e}`),x=e=>l.get(`/video/detail?id=${e}`),S=e=>l.get(`/video/url?id=${e}`),L=e=>l.get(`/related/allvideo?id=${e}`),b=(e,t)=>l.get(`/artist/songs?id=${e}&limit=${t}`),I=(e,t,o,n)=>n?l.get(`/artist/list?type=${e}&area=${t}&initial=${n}&limit=${o}`):l.get(`/artist/list?type=${e}&area=${t}&limit=${o}`),R=()=>l.get("/playlist/catlist"),B=()=>l.get("/playlist/highquality/tags"),D=(e,t)=>t?l.get(`/top/playlist/highquality?limit=${e}&cat=${t}`):l.get(`/top/playlist/highquality?limit=${e}`),_=(e,t)=>t?l.get(`/top/playlist?limit=${e}&cat=${t}`):l.get(`/top/playlist?limit=${e}`),O=(e,t)=>l.get(`comment/playlist?id=${e}&limit=${t}`),M=(e,t)=>l.get(`/comment/video?id=${e}&limit=${t}`),T=(e,t)=>l.get(`comment/mv?id=${e}&limit=${t}`),$=(e,t,o,n)=>l.get(`/comment/new?id=${e}&type=${t}&limit=${o}&sortType=${n||"1"}`),P=(e,t,o)=>l.get(`/comment/hot?id=${e}&type=${t}&limit=${o}`),A=()=>l.get("/dj/banner"),j=e=>l.get(`/dj/detail?rid=${e}`),z=(e,t)=>l.get(`/dj/program?rid=${e}&limit=${t}`),U=()=>l.get("/dj/catelist"),F=e=>l.get(`/dj/recommend/type?type=${e}`),H=Pinia.defineStore("theme",(()=>{var e,t,o,a,l,u,r,s,i,c;const V="#101010",d="#334155",m="#f0f0f0",p="#ffffff",v="#F7F7F7",f="#E0E0E0",g="rgba(9, 30, 66, 0.25) 0px 4px 8px -2px, rgba(9, 30, 66, 0.08) 0px 0px 0px 1px",h="#1ed2a9",y="#ffffff",w="#ffffff",k=Vue.ref((null==(e=te(n.LOCAL,"theme"))?void 0:e.fontColor)||V),C=Vue.ref((null==(t=te(n.LOCAL,"theme"))?void 0:t.fontGray)||"#7b7b7b"),E=Vue.ref((null==(o=te(n.LOCAL,"theme"))?void 0:o.fontBlack)||d),N=Vue.ref((null==(a=te(n.LOCAL,"theme"))?void 0:a.menuColor)||m),x=Vue.ref((null==(l=te(n.LOCAL,"theme"))?void 0:l.backgound)||p),S=Vue.ref((null==(u=te(n.LOCAL,"theme"))?void 0:u.tableHover)||v),L=Vue.ref((null==(r=te(n.LOCAL,"theme"))?void 0:r.shadow)||g),b=Vue.ref((null==(s=te(n.LOCAL,"theme"))?void 0:s.searchBg)||f),I=Vue.ref((null==(i=te(n.LOCAL,"theme"))?void 0:i.active)||h),R=Vue.ref((null==(c=te(n.LOCAL,"theme"))?void 0:c.themeColor)||"#1ed2a9");return{fontColor:k,menuColor:N,background:x,fontBlack:E,tableHover:S,shadow:L,searchBg:b,active:I,themeColor:R,fontGray:C,changeLight:function(){k.value=V,N.value=m,x.value=p,E.value=d,S.value=v,L.value=g,b.value=f,I.value=h,C.value="#7b7b7b"},changeDark:function(){k.value=y,N.value="#1B1B1B",x.value="#101010",E.value=w,S.value="#434343",L.value="rgba(60, 64, 67, 0.3) 0px 1px 2px 0px, rgba(60, 64, 67, 0.15) 0px 2px 6px 2px",b.value="#1b1b1b",I.value="rgba(0,0,0,0.5)",C.value="#7b7b7b"},changeSkinMode:function(){k.value=y,E.value=w,L.value="rgba(50, 50, 93, 0.25) 0px 2px 5px -1px, rgba(0, 0, 0, 0.3) 0px 1px 3px -1px",x.value="transparent",N.value="transparent",b.value="transparent",I.value="rgba(210,210,210,0.5)",S.value="rgba(210,210,210,0.3)",C.value="rgb(215,215,215)"},setTheme:function(e){R.value=e[0],k.value=e[1],C.value=e[2],x.value=e[3],N.value=e[4],I.value=e[5]}}})),q={},G=function(e,t,o){if(!t||0===t.length)return e();const n=document.getElementsByTagName("link");return Promise.all(t.map((e=>{if(e=function(e,t){return new URL(e,t).href}(e,o),e in q)return;q[e]=!0;const t=e.endsWith(".css"),a=t?'[rel="stylesheet"]':"";if(!!o)for(let o=n.length-1;o>=0;o--){const a=n[o];if(a.href===e&&(!t||"stylesheet"===a.rel))return}else if(document.querySelector(`link[href="${e}"]${a}`))return;const l=document.createElement("link");return l.rel=t?"stylesheet":"modulepreload",t||(l.as="script",l.crossOrigin=""),l.href=e,document.head.appendChild(l),t?new Promise(((t,o)=>{l.addEventListener("load",t),l.addEventListener("error",(()=>o(new Error(`Unable to preload CSS for ${e}`))))})):void 0}))).then((()=>e()))},J=Pinia.createPinia(),W=""+new URL("暂无头像-ea8308c3.svg",import.meta.url).href,K=Pinia.defineStore("header",(()=>{const e=Vue.ref(!1),t=Vue.ref(te(n.SESSION,"cookie")||""),o=Vue.reactive(te(n.SESSION,"userInfo")||{uid:"",userName:"点击登陆",avatar:W});return{cookie:t,showLogin:e,user:o,getInfo:async function(){const e=await l.get("/user/account").catch((e=>{Z(a.ERROR,e.message)})),{account:{id:t}}=e;o.uid=t;const n=await(u=t,l.get(`/user/detail?uid=${u}`));var u;const{profile:{avatarUrl:r,nickname:s}}=n;o.avatar=r,o.userName=s},logout:async function(){"200"==(await l.get("/logout").catch((e=>{Z(a.ERROR,e.message)}))).code&&(Z(a.SUCCESS,"成功退出登陆"),oe(n.SESSION,"cookie"),oe(n.SESSION,"userInfo"),o.avatar=W,o.userName="点击登陆",o.uid="",Q.push({name:"recommend"}))}}}));t.configure({easing:"ease",speed:1400,showSpinner:!1,trickleSpeed:400,minimum:.3,parent:"body"});const Y=[{path:"",redirect:"/recommend",children:[{path:"/recommend",name:"recommend",component:()=>G((()=>import("../js/view/RecommendView.cc36a6ce.js")),["..\\js\\view\\RecommendView.cc36a6ce.js","..\\js\\index\\index.e9db409e.js","./index-e728e644.css","..\\js\\index\\index.1a5275e8.js","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","./RecommendView-9ded85b1.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"推荐"}},{path:"/playlist",name:"playlist",component:()=>G((()=>import("../js/view/PlayListView.0734090e.js")),["..\\js\\view\\PlayListView.0734090e.js","..\\js\\index\\index.3beb5c84.js","..\\js\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.fc383066.js","./index-d06a3ddf.css","..\\js\\index\\index.3b3e6026.js","..\\js\\index\\index.456753dc.js","./index-13a794c8.css","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","./PlayListView-0515aa7b.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"精品歌单"}},{path:"/search",name:"search",component:()=>G((()=>import("../js/view/SearchView.0f0d6141.js")),["..\\js\\view\\SearchView.0f0d6141.js","..\\js\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.fc383066.js","./index-d06a3ddf.css","..\\js\\index\\index.3beb5c84.js","..\\js\\index\\index.43c04425.js","./index-e728e644.css","..\\js\\index\\index.e9db409e.js","..\\js\\index\\index.eeedc938.js","..\\js\\index\\index.1a5275e8.js","..\\js\\index\\index.4a520f69.js","./index-13a794c8.css","..\\js\\index\\index.456753dc.js","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","./SearchView-dd4a6796.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"搜索"}},{path:"/video",name:"video",component:()=>G((()=>import("../js/view/VideoPlayView.e4693f37.js")),["..\\js\\view\\VideoPlayView.e4693f37.js","..\\js\\dplayer\\dplayer.87601a3d.js","..\\js\\index\\index.1a5275e8.js","./index-e728e644.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","./nprogress-8b89e2e0.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","./VideoPlayView-dca50e39.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"视频播放"}},{path:"/rvideo",name:"rvideo",component:()=>G((()=>import("../js/view/VideoView.3a0759ab.js")),["..\\js\\view\\VideoView.3a0759ab.js","..\\js\\index\\index.1a5275e8.js","./index-e728e644.css","..\\js\\index\\index.c36d15e6.js","..\\js\\index\\index.1c83a27b.js","..\\js\\lodash-es\\lodash-es.8b477e85.js","..\\js\\index\\index.4a520f69.js","./index-13a794c8.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","./VideoView-ffb01cab.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"视频"}},{path:"/hall",name:"hall",component:()=>G((()=>import("../js/view/MusicHall.d4e6db81.js")),["..\\js\\view\\MusicHall.d4e6db81.js","..\\js\\index\\index.e9db409e.js","./index-e728e644.css","..\\js\\index\\index.4a520f69.js","./index-13a794c8.css","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","./MusicHall-36de9626.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"音乐馆"}},{path:"/artistlist",name:"artistlist",component:()=>G((()=>import("../js/view/ArtistlistView.cbcfd66d.js")),["..\\js\\view\\ArtistlistView.cbcfd66d.js","..\\js\\index\\index.eeedc938.js","./index-e728e644.css","..\\js\\index\\index.c36d15e6.js","..\\js\\index\\index.1c83a27b.js","..\\js\\lodash-es\\lodash-es.8b477e85.js","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","./ArtistlistView-a99edba5.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"热门歌手"}},{path:"/artist",name:"artist",component:()=>G((()=>import("../js/view/ArtistDetailView.4670e796.js")),["..\\js\\view\\ArtistDetailView.4670e796.js","..\\js\\index\\index.3b3e6026.js","..\\js\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.fc383066.js","./index-d06a3ddf.css","..\\js\\index\\index.43c04425.js","./index-e728e644.css","..\\js\\index\\index.1a5275e8.js","..\\js\\index\\index.3beb5c84.js","..\\js\\index\\index.4a520f69.js","./index-13a794c8.css","..\\js\\index\\index.456753dc.js","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","./ArtistDetailView-f2427b92.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"歌手详情"}},{path:"/love",name:"love",component:()=>G((()=>import("../js/view/LoveView.066513b7.js")),["..\\js\\view\\LoveView.066513b7.js","..\\js\\index\\index.43c04425.js","./index-e728e644.css","..\\js\\index\\index.e9db409e.js","..\\js\\index\\index.eeedc938.js","..\\js\\index\\index.1a5275e8.js","..\\js\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.fc383066.js","./index-d06a3ddf.css","..\\js\\index\\index.88a3e908.js","..\\js\\index\\index.1c83a27b.js","..\\js\\lodash-es\\lodash-es.8b477e85.js","..\\js\\index\\index.456753dc.js","./index-13a794c8.css","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","./LoveView-8140f1cf.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"我喜欢"}},{path:"/recent",name:"recent",component:()=>G((()=>import("../js/view/RecentPlayView.fef4ed97.js")),["..\\js\\view\\RecentPlayView.fef4ed97.js","..\\js\\index\\index.1a5275e8.js","./index-e728e644.css","..\\js\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.fc383066.js","./index-d06a3ddf.css","..\\js\\index\\index.88a3e908.js","..\\js\\index\\index.1c83a27b.js","..\\js\\lodash-es\\lodash-es.8b477e85.js","..\\js\\index\\index.456753dc.js","./index-13a794c8.css","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","./RecentPlayView-c9ffafdf.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"最近播放"}},{path:"/album",name:"album",component:()=>G((()=>import("../js/view/AlbumDetailView.158762a3.js")),["..\\js\\view\\AlbumDetailView.158762a3.js","..\\js\\index\\index.3b3e6026.js","..\\js\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.fc383066.js","./index-d06a3ddf.css","..\\js\\index\\index.3beb5c84.js","..\\js\\index\\index.43c04425.js","./index-e728e644.css","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","./AlbumDetailView-a45f7f49.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"专辑详情"}},{path:"/station",name:"station",component:()=>G((()=>import("../js/view/RadioView.fd79d6f6.js")),["..\\js\\view\\RadioView.fd79d6f6.js","..\\js\\index\\index.e9db409e.js","./index-e728e644.css","..\\js\\index\\index.4a520f69.js","./index-13a794c8.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","..\\js\\lodash-es\\lodash-es.8b477e85.js","./RadioView-bd385c3e.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"精彩电台"}},{path:"/download",name:"download",component:()=>G((()=>import("../js/view/DownloadView.5b48202a.js")),["..\\js\\view\\DownloadView.5b48202a.js","..\\js\\index\\index.1a5275e8.js","./index-e728e644.css","..\\js\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang\\index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.fc383066.js","./index-d06a3ddf.css","..\\js\\index\\index.88a3e908.js","..\\js\\index\\index.1c83a27b.js","..\\js\\lodash-es\\lodash-es.8b477e85.js","..\\js\\index\\index.456753dc.js","./index-13a794c8.css","..\\js\\index\\index.dbb8a4d6.js","./index-eab7e18c.css","..\\js\\hotkeys-js\\hotkeys-js.e364e5e1.js","..\\js\\nprogress\\nprogress.204a1a2a.js","..\\js\\dplayer\\dplayer.87601a3d.js","./nprogress-8b89e2e0.css","./DownloadView-8148fc7c.css","./element-plus-472d715e.css"],import.meta.url),meta:{title:"下载记录"}}]}],Q=VueRouter.createRouter({history:VueRouter.createWebHashHistory(),routes:Y,scrollBehavior:(e,t,o)=>o||{top:0}}),X=["///love","///recent"];Q.beforeEach(((e,o,n)=>{const l=K(J),{showLogin:u,cookie:r}=Pinia.storeToRefs(l);r.value?(t.start(),n()):!r.value&&X.includes(e.path)?(Z(a.INFO,"尚未登陆，请登录！"),u.value=!0):(t.start(),n())})),Q.afterEach((e=>{t.done(),document.title=e.meta.title}));const Z=(e="success",t)=>{switch(e){case a.SUCCESS:ElementPlus.ElNotification.success({title:"Success",message:t,duration:1e3});break;case a.ERROR:ElementPlus.ElNotification.error({title:"Error",message:t,duration:1e3});break;case a.INFO:ElementPlus.ElNotification.info({title:"Infomation",message:t,duration:1e3});break;case a.WARNING:ElementPlus.ElNotification.info({title:"Warning",message:t,duration:1e3})}},ee=(e,t,o)=>{switch(e){case n.LOCAL:"object"==typeof o?localStorage.setItem(t,JSON.stringify(o)):localStorage.setItem(t,o);break;case n.SESSION:"object"==typeof o?sessionStorage.setItem(t,JSON.stringify(o)):sessionStorage.setItem(t,o)}},te=(e,t)=>{switch(e){case n.LOCAL:try{return JSON.parse(localStorage.getItem(t))}catch{return localStorage.getItem(t)}case n.SESSION:try{return JSON.parse(sessionStorage.getItem(t))}catch{return sessionStorage.getItem(t)}}},oe=(e,t)=>{switch(e){case n.LOCAL:localStorage.getItem(t)&&localStorage.removeItem(t);break;case n.SESSION:sessionStorage.getItem(t)&&sessionStorage.removeItem(t)}},ne=()=>(new Date).getTime(),ae=e=>{if(e.includes(".")){return 60*+e.split(":")[0]*1e3+1e3*+e.split(":")[1]}return 60*+e.split(":")[0]*1e3+1e3*+e.split(":")[1].split(".")[0]},le=e=>{const t=Math.floor(+e/1e3),o=t%60<10?"0"+t%60:""+t%60;return(t/60<10?"0"+Math.floor(t/60):""+Math.floor(t/60))+":"+o},ue=e=>+e/1e3,re=e=>{const t=new Date(e);return t.getFullYear()+"-"+(t.getMonth()+1)+"-"+t.getDate()},se=async(e,t,o,l)=>{try{const e=new Map(t.map(((e,t)=>[e.id,t]))),a=t.map((e=>e.id)),u=[];for(let t=0;t<Math.ceil(a.length/100);t++)u.push(s(a.slice(100*t,100*(t+1)).join(",")));(await Promise.all(u)).forEach((o=>{const{data:n}=o;n.forEach((o=>{const n=e.get(o.id);o.url?null!=l?n!=l&&(t[n].url=o.url):t[n].url=o.url:(t[n].available="10",t[n].url="")}))})),o&&ee(n.SESSION,o,t)}catch(u){Z(a.ERROR,u.message)}},ie=(e,t,o)=>{const{id:n,name:a,ar:l,al:u,fee:r,dt:s}=o;e.push(n),t.push({id:n,name:a,singer:l.map((e=>e.name)).join("、"),songImage:u.picUrl,album:u.name,available:r,time:s,url:""})},ce=()=>{const e=H(),{fontBlack:t,fontColor:o,searchBg:n,background:a,menuColor:l,tableHover:u,shadow:r,active:s,themeColor:i,fontGray:c}=Pinia.storeToRefs(e),V=new Map;return V.set("fontBlack",t),V.set("fontColor",o),V.set("searchBg",n),V.set("background",a),V.set("menuColor",l),V.set("tableHover",u),V.set("shadow",r),V.set("active",s),V.set("themeColor",i),V.set("fontGray",c),V},Ve=e=>e.includes("、")?e.split("、")[0]:e,de=async(e,t)=>{try{const o=await axios({method:"get",url:e,responseType:"blob"});if(!o)return;const n=window.URL.createObjectURL(o.data),l=document.createElement("a");document.body.appendChild(l),l.style.display="none",l.href=n,l.download=t,l.click(),document.body.removeChild(l),window.URL.revokeObjectURL(n),Z(a.SUCCESS,"下载成功！")}catch(o){Z(a.ERROR,o.message)}},me=(e,t)=>{t&&(t.value=!0),e()},pe=(e,t,o,n)=>{me((async()=>{try{const u=o.length,r=await(e=>l.get(`/simi/song?id=${e}`))(e),{songs:i}=r;for(const e of i){const{fee:l,name:u,id:r,artists:i,album:c}=e,V=o.findIndex((e=>e.id==r));if(("0"==l||"8"==l)&&-1==V){const e={name:u,id:r,singer:i.map((e=>e.name)).join("、"),songImage:c.blurPicUrl,album:c.name,available:l},V=await s(r),{data:d}=V;if(d[0].url){e.url=d[0].url,e.time=d[0].time,o.splice(t+1,0,e),n(),Z(a.SUCCESS,"已找到相似歌曲"+e.name+"，将于下一首播放。");break}}}o.length==u&&Z(a.INFO,"暂无相似歌曲")}catch(u){Z(a.ERROR,u.message)}}))},ve=(e,t)=>{me((async()=>{try{const o=await d(1014,1,e.name+""+Ve(e.singer)),{result:{videos:n}}=o;n&&n.length>0?(t(),await Vue.nextTick(),Q.push({name:"video",query:{id:n[0].vid}})):Z(a.INFO,"该歌曲暂无mv.")}catch(o){Z(a.ERROR,o.message)}}))},fe=(e,t)=>{navigator.clipboard.writeText(e),Z(a.SUCCESS,t||"已成功复制到剪切板，快去分享吧！")},ge=async e=>{try{const t=await N(e.id),{lrc:{lyric:o}}=t,n=[e.name],a=+e.time;o.split("\n").map((e=>e.split("]"))).forEach((e=>{if(e.length>1){const t=e[1]?e[1].trim():e[1];ae(e[0].slice(1))<a&&t&&n.push(t)}}));const l=new Blob([n.join("\r\n")],{type:"type:text/plain; charset=utf-8"}),u=URL.createObjectURL(l),r=document.createElement("a");r.style.display="none",r.href=u,r.download=e.name+"-"+Ve(e.name)+".txt",document.body.append(r),r.click(),document.body.removeChild(r),URL.revokeObjectURL(u)}catch(t){Z(a.ERROR,"获取歌词出错！")}},he=e=>{fe("歌名："+e.name+"，歌手："+Ve(e.singer)+"，专辑："+e.album+"，时长："+le(e.time),"歌曲信息复制成功！")},ye=(e,t)=>{const o=new Map;t.length>0&&t.forEach((e=>{o.set(e.commentId,e.commentId)})),e.forEach((e=>{const{user:{avatarUrl:n,nickname:a},content:l,commentId:u,time:r,likedCount:s,ipLocation:{location:i}}=e;let{beReplied:c}=e;c&&(c=c.map((e=>{const{user:{avatarUrl:t,nickname:o},content:n,beRepliedCommentId:a,ipLocation:{location:l}}=e;return{commentId:a,nickname:o,content:n,time:"",likeCount:"0",avatar:t,ip:l}}))),o.get(u)||t.push({nickname:a,avatar:n,content:l,time:r,likeCount:s,commentId:u,reply:c,ip:i})}))},we=async(e,t,o,n)=>{try{(await Promise.all([P(e,t,100),$(e,t,100,"1"),$(e,t,100,"2")])).forEach(((e,t)=>{if(0==t){const{hotComments:t}=e;t&&ye(t,o)}else{const{data:{comments:t}}=e;t&&ye(t,o)}})),n&&n()}catch(l){Z(a.ERROR,l.message)}},ke='\n<svg t="1682236319648" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="3017" width="50" height="50"><path d="M546.462897 266.292966c-73.410207 0-133.15531-59.727448-133.155311-133.137656C413.307586 59.762759 473.05269 0 546.462897 0c73.410207 0 133.12 59.727448 133.12 133.15531 0 73.410207-59.709793 133.137655-133.12 133.137656z m-283.453794 105.736827c-67.054345 0-121.626483-54.554483-121.626482-121.644138s54.572138-121.644138 121.626482-121.644138a121.767724 121.767724 0 0 1 121.608828 121.644138c0 67.054345-54.554483 121.644138-121.608828 121.644138zM142.547862 647.185655A107.343448 107.343448 0 0 1 35.310345 539.895172a107.343448 107.343448 0 0 1 107.237517-107.237517 107.343448 107.343448 0 0 1 107.219862 107.237517 107.343448 107.343448 0 0 1-107.219862 107.272828z m120.461241 272.595862a91.047724 91.047724 0 0 1-90.941793-90.959448 91.065379 91.065379 0 0 1 90.924138-90.941793 91.065379 91.065379 0 0 1 90.941793 90.941793c0 50.14069-40.783448 90.959448-90.924138 90.959448zM546.462897 1024a79.518897 79.518897 0 0 1-79.448276-79.448276c0-43.820138 35.645793-79.448276 79.448276-79.448276a79.518897 79.518897 0 0 1 79.43062 79.448276c0 43.820138-35.628138 79.448276-79.448276 79.448276z m287.744-134.285241a64.194207 64.194207 0 0 1-64.123587-64.123587 64.194207 64.194207 0 0 1 64.123587-64.123586 64.194207 64.194207 0 0 1 64.123586 64.123586 64.194207 64.194207 0 0 1-64.123586 64.123587z m117.848275-296.695173a52.683034 52.683034 0 0 1-52.612413-52.612414 52.683034 52.683034 0 0 1 52.612413-52.630069 52.70069 52.70069 0 0 1 52.630069 52.612414 52.718345 52.718345 0 0 1-52.630069 52.630069z m-158.667034-338.696827a40.818759 40.818759 0 1 0 81.655172 0.017655 40.818759 40.818759 0 0 0-81.655172 0z" fill="#389BFF" p-id="3018"></path></svg>\n',Ce=Pinia.defineStore("config",(()=>{const e=Vue.ref("none"),t=Vue.computed((()=>"none"==e.value?"0px":"6px")),o=Vue.ref(!1),a=Vue.computed((()=>o.value?"82vh":"80vh")),l=Vue.computed((()=>o.value?"9vh":"10vh")),u=Vue.computed((()=>o.value?"92vh":"90vh")),r=Vue.computed((()=>o.value?"8vh":"10vh")),s=Vue.computed((()=>o.value?"530px":"450px")),i=Vue.computed((()=>o.value?"400px":"370px")),c=Vue.computed((()=>o.value?"410px":"330px")),V=Vue.computed((()=>o.value?"205px":"165px")),d=Vue.ref(te(n.LOCAL,"bgMode")||"color"),m=Vue.ref(te(n.LOCAL,"skin")||""),p=Vue.computed((()=>"color"==d.value?"":m.value)),v=Vue.ref("playlist");return{showScroll:e,left:t,isFullScreen:o,contentHeight:a,headerHeight:l,musicFooterHeight:r,musicContentHeight:u,lyricContentHeight:c,imageHeight:i,lyricHeight:s,firstLyricMargin:V,bgMode:d,skin:m,skinUrl:p,drawerMode:v,changeColor:function(){d.value="color"},changeSkin:function(){d.value="skin"}}})),Ee=Pinia.defineStore("footer",(()=>{const e=Vue.ref(!1),t=Vue.reactive(te(n.LOCAL,"userPlaylist")||[]),o=Vue.computed((()=>{const e=t.map((e=>e.id)),o=new Map;return e.forEach(((e,t)=>{o.set(e,t)})),o})),a=Vue.ref(te(n.LOCAL,"playMode")||"2"),l=Vue.computed((()=>t.length)),u=Vue.ref(te(n.LOCAL,"currentPlay")||0),r=Vue.ref(0),s=Vue.ref(!1),i=Vue.ref(0),c=Vue.ref(!1),V=Vue.ref(!1);return{isPlay:e,current:u,songList:t,playMode:a,songNum:l,playProcess:r,playTime:i,showList:c,isChanging:s,showDetail:V,songListId:o}})),Ne=Pinia.defineStore("user",(()=>{const e=Ee(),{songList:t,songListId:o}=Pinia.storeToRefs(e),l=Vue.reactive(te(n.LOCAL,"loveSongs")||[]),u=Vue.reactive(te(n.LOCAL,"loveVideo")||[]),r=Vue.reactive(te(n.LOCAL,"lovePlaylist")||[]),s=Vue.reactive(te(n.LOCAL,"loveSinger")||[]),i=Vue.reactive(te(n.LOCAL,"loveAlbum")||[]),c=Vue.reactive(te(n.LOCAL,"loveRadio")||[]),V=Vue.reactive(te(n.LOCAL,"songRecord")||[]),d=Vue.reactive(te(n.LOCAL,"videoRecord")||[]),m=Vue.reactive(te(n.LOCAL,"musicDownload")||[]),p=Vue.reactive(te(n.LOCAL,"mvDownload")||[]),v=Vue.computed((()=>{const e=new Map;return l.forEach(((t,o)=>{e.set(t.id,o)})),e})),f=Vue.computed((()=>{const e=new Map;return u.forEach(((t,o)=>{e.set(t.id,o)})),e})),g=Vue.computed((()=>{const e=new Map;return s.forEach(((t,o)=>{e.set(t.id,o)})),e})),h=Vue.computed((()=>{const e=new Map;return r.forEach(((t,o)=>{e.set(t.id,o)})),e})),y=Vue.computed((()=>{const e=new Map;return i.forEach(((t,o)=>{e.set(t.id,o)})),e})),w=Vue.computed((()=>{const e=new Map;return c.forEach(((t,o)=>{e.set(t.id,o)})),e})),k=Vue.computed((()=>{const e=new Map;return V.forEach(((t,o)=>{e.set(t.id,o)})),e})),C=Vue.computed((()=>{const e=new Map;return d.forEach(((t,o)=>{e.set(t.id,o)})),e})),E=Vue.computed((()=>{const e=new Map;return m.forEach(((t,o)=>{e.set(t.id,o)})),e})),N=Vue.computed((()=>{const e=new Map;return p.forEach(((t,o)=>{e.set(t.id,o)})),e}));return{musicDownload:m,mvDownload:p,loveSongs:l,lovePlaylist:r,loveVideo:u,loveSinger:s,loveAlbum:i,loveRadio:c,songRecord:V,videoRecord:d,loveMusicId:v,loveVideoId:f,loveSingerId:g,loveAlbumId:y,lovePlaylistId:h,songRecordId:k,videoRecordId:C,musicDownloadId:E,loveRadioId:w,mvDownloadId:N,addLove:function(e,n,l){e.isLove=!e.isLove;const u=o.value.get(e.id),r=k.value.get(e.id),s=E.value.get(e.id);e.isLove?(n.push(e),Z(a.SUCCESS,"收藏成功！"),null!=u&&(t.value[u].isLove=!0),null!=r&&(V[r].isLove=!0),null!=s&&(m[r].isLove=!0)):(n.splice(l.get(e.id),1),Z(a.SUCCESS,"取消收藏成功！"),null!=u&&(t.value[u].isLove=!1),null!=r&&(V[r].isLove=!1),null!=s&&(m[r].isLove=!1))},addRecord:function(e,t,o){null==o.get(e.id)&&t.push(e)},addMuiscDownload:function(e){(e=>{if("0"==e.available||"8"==e.available){const t=e.name+"-"+Ve(e.singer)+".mp3",o=e.url;de(o,t)}else"10"==e.available?Z(a.INFO,"该歌曲暂无版权，无法下载！"):Z(a.INFO,"该歌曲为vip歌曲，请您开通vip！")})(e),null==E.value.get(e.id)&&m.push(e)},addVideoDownload:function(e){Z(a.SUCCESS,"MV开始下载，请稍后。");const t=e.name+"-"+e.artist+".mp4",o=e.url;de(o,t),null==N.value.get(e.id)&&p.push(e)},initLoveMusic:function(e){e.forEach((e=>{null!=v.value.get(e.id)?e.isLove=!0:e.isLove=!1}))},initLoveStatus:function(e,t){t.get(e.id)?e.isLove=!0:e.isLove=!1}}})),xe=""+new URL("暂无音乐-2a4b871f.svg",import.meta.url).href,Se=e=>(Vue.pushScopeId("data-v-2e426e2d"),e=e(),Vue.popScopeId(),e),Le={class:"footer-container"},be=["src"],Ie=Se((()=>Vue.createElementVNode("div",{class:"run_way"},[Vue.createElementVNode("div",{class:"run_body"})],-1))),Re={class:"left"},Be=["src"],De=Se((()=>Vue.createElementVNode("span",{class:"iconfont go"},"",-1))),_e=Se((()=>Vue.createElementVNode("span",{class:"iconfont go"},"",-1))),Oe={class:"music-info"},Me={class:"operation"},Te=["textContent"],$e={key:1,class:"iconfont"},Pe={class:"iconfont"},Ae=["textContent"],je={class:"middle"},ze={class:"play-mode"},Ue={class:"iconfont"},Fe={class:"iconfont"},He={class:"iconfont"},qe=["textContent"],Ge=["onMousedown"],Je=["onMousedown"],We={class:"iconfont volume"},Ke={class:"iconfont volume"},Ye={class:"volume-setting-container"},Qe=["onMousedown"],Xe=["onMousedown"],Ze={class:"right"},et=(e,t)=>{const o=e.__vccOpts||e;for(const[n,a]of t)o[n]=a;return o},tt=et(Vue.defineComponent({__name:"index",setup(e){Vue.useCssVars((e=>({"0d2783e8":Vue.unref(n),f9e85efa:Vue.unref(l),"2ad2598d":Vue.unref(r),"6bac217c":Vue.unref(i),"7baa829a":Vue.unref(s),beb6f73c:Vue.unref(u)})));const t=Ce(),n=ce().get("fontColor"),l=ce().get("shadow"),u=ce().get("themeColor"),r=ce().get("background"),s=Vue.inject("fontGray"),i=Vue.computed((()=>"color"==t.bgMode?"rgb(217,217,217)":"rgba(217,217,217,0.3)")),c=Vue.computed((()=>"color"==t.bgMode?"#ffffff"==n.value?"dropdown-dark":"dropdown-light":"dropdown-skin")),V=Vue.inject("hideScroll"),d=Vue.inject("soucreComments"),m=Vue.inject("showComments"),p=Vue.computed((()=>h.value[y.value].isLove?"":"")),v=Vue.computed((()=>h.value[y.value].isLove?"margin: 0 7px 0 2px;color:#ff6a6a;":"margin: 0 7px 0 2px;")),f=Ee(),{isPlay:g,songList:h,current:y,playMode:w,songNum:k,playProcess:C,playTime:E,showList:N,isChanging:x,showDetail:S}=Pinia.storeToRefs(f),L=Ne(),b=[{name:"播放相似单曲",icon:"",style:"margin: 0 7px 0 2px",command:"playSimi",isIcon1:!0},{name:"复制歌曲信息",icon:"",style:"margin: 1px 7px 0 2px;",command:"copyMusicInfo"},{name:"下载歌词",icon:"",style:"margin: 0 7px 0 2px;",command:"downloadLyric"},{name:"我喜欢",icon:"",style:"margin: 0 7px 0 2px;",command:"love"},{name:"查看评论",icon:"",style:"margin: 1px 7px 0 3px;",command:"comment"},{name:"从播放列表删除",icon:"",style:"margin: 0 7px 0 2px; font-size: 16px;",command:"deleteMuisc"}],I=()=>{g.value=!1,C.value=0,E.value=0,S.value=!0},R=()=>{k.value>0&&L.addMuiscDownload(h.value[y.value])},B=()=>{k.value>0&&ve(h.value[y.value],(()=>{V(),S.value&&(E.value=0,C.value=0,g.value=!1,S.value=!1)}))},D=async e=>{k.value>0?"playSimi"==e?pe(h.value[y.value].id,y.value,h.value,(()=>{L.addRecord(h.value[y.value+1],L.songRecord,L.songRecordId)})):"deleteMuisc"==e?(g.value=!1,E.value=0,C.value=0,h.value.splice(y.value,1),await Vue.nextTick(),y.value==k.value&&k.value>0?y.value--:y.value!=k.value&&k.value>0&&(g.value=!0)):"love"==e?L.addLove(h.value[y.value],L.loveSongs,L.loveMusicId):"downloadLyric"==e?ge(h.value[y.value]):"copyMusicInfo"==e?he(h.value[y.value]):"comment"==e&&(d.length>0&&d.splice(0),we(h.value[y.value].id,"0",d,(()=>{m.value=!0}))):Z(a.INFO,"暂无音乐，请添加音乐")},_=[{name:"单曲循环",icon:"",command:"0",style:"font-size: 16px; margin-right: 7px;"},{name:"随机循环",icon:"",command:"1",style:"font-size: 15px; margin-right: 7px;"},{name:"顺序播放",icon:"",command:"2",style:"font-size: 15px; margin-right: 7px;"}],O=Vue.ref(),M=Vue.ref(80),T=Vue.ref(!1);let $=0;const P=()=>{N.value=!0,t.drawerMode="playlist"},A=e=>{w.value=e},j=()=>{O.value.volume=M.value/100,T.value=0==M.value||O.value.muted},z=o((()=>{k.value>0?(O.value.currentTime=C.value*ue(h.value[y.value].time)/100,x.value=!0):Z(a.INFO,"请添加音乐！")}),100,{leading:!0,trailing:!1}),U=()=>{O.value.muted=!O.value.muted,T.value=0==M.value||O.value.muted},F=()=>{k.value>0?y.value=++y.value>=k.value?0:y.value:Z(a.INFO,"暂无音乐，请您添加音乐")},H=()=>{k.value>0?y.value=--y.value<0?k.value-1:y.value:Z(a.INFO,"暂无音乐，请您添加音乐")};return Vue.watch(y,(async()=>{g.value&&(g.value=!1),C.value=0,E.value=0,await Vue.nextTick(),g.value=!0})),Vue.watch(g,(async e=>{var t,o;e?k.value>0?(null==(t=O.value)||t.play(),$=setInterval((()=>{E.value=O.value.currentTime,C.value=E.value/ue(h.value[y.value].time)*100}),1e3)):(Z(a.INFO,"暂无音乐，请您添加音乐"),g.value=!1):(clearInterval($),null==(o=O.value)||o.pause())})),Vue.onMounted((()=>{O.value.onended=async()=>{if("1"==w.value){const e=y.value;y.value=Math.floor(Math.random()*k.value),e==y.value&&(g.value=!1,C.value=0,E.value=0,await Vue.nextTick(),g.value=!0)}else"2"==w.value?y.value=++y.value>=k.value?0:y.value:(g.value=!1,C.value=0,E.value=0,await Vue.nextTick(),g.value=!0)}})),(e,o)=>{const a=Vue.resolveComponent("el-slider"),l=Vue.resolveComponent("el-dropdown-item"),u=Vue.resolveComponent("el-dropdown-menu"),s=Vue.resolveComponent("el-dropdown"),i=Vue.resolveComponent("el-divider"),V=Vue.resolveComponent("el-popover"),d=Vue.resolveDirective("prevent");return Vue.openBlock(),Vue.createElementBlock("div",Le,[Vue.createElementVNode("audio",{ref_key:"player",ref:O,src:Vue.unref(k)>0?Vue.unref(h)[Vue.unref(y)].url:""},null,8,be),Vue.createVNode(a,{modelValue:Vue.unref(C),"onUpdate:modelValue":o[0]||(o[0]=e=>Vue.isRef(C)?C.value=e:null),onInput:o[1]||(o[1]=e=>Vue.unref(z)()),"show-tooltip":!1,class:"music-process"},null,8,["modelValue"]),Ie,Vue.createElementVNode("div",Re,[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",{onClick:I,class:"music-image"},[Vue.createElementVNode("img",{src:Vue.unref(k)>0?Vue.unref(h)[Vue.unref(y)].songImage:Vue.unref(xe),class:Vue.normalizeClass({"has-border":0==Vue.unref(k)})},null,10,Be),De,_e])),[[d]]),Vue.createElementVNode("div",Oe,[Vue.createElementVNode("p",null,[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(k)>0?Vue.unref(h)[Vue.unref(y)].name:"暮色音乐")+" - ",1),Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(Ve)(Vue.unref(k)>0?Vue.unref(h)[Vue.unref(y)].singer:"潇潇")),1)]),Vue.createElementVNode("div",Me,[Vue.unref(k)>0?Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{key:0,onClick:o[2]||(o[2]=e=>Vue.unref(L).addLove(Vue.unref(h)[Vue.unref(y)],Vue.unref(L).loveSongs,Vue.unref(L).loveMusicId)),textContent:Vue.toDisplayString(Vue.unref(h)[Vue.unref(y)].isLove?"󰅅":""),class:Vue.normalizeClass(["iconfont",{"is-love":Vue.unref(h)[Vue.unref(y)].isLove}])},null,10,Te)),[[d]]):(Vue.openBlock(),Vue.createElementBlock("span",$e,"")),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{class:"iconfont playmv",onClick:B},[Vue.createTextVNode("")])),[[d]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{class:"iconfont",onClick:R},[Vue.createTextVNode("")])),[[d]]),Vue.createVNode(s,{"popper-class":`dropdown ${Vue.unref(c)}`,trigger:"click",onCommand:D},{dropdown:Vue.withCtx((()=>[Vue.createVNode(u,{style:Vue.normalizeStyle({color:Vue.unref(n),background:Vue.unref(r)})},{default:Vue.withCtx((()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(b,(e=>Vue.createVNode(l,{key:e.command,command:e.command},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{textContent:Vue.toDisplayString("love"==e.command&&Vue.unref(k)>0?Vue.unref(p):e.icon),style:Vue.normalizeStyle("love"==e.command&&Vue.unref(k)>0?Vue.unref(v):e.style),class:Vue.normalizeClass(e.isIcon1?"iconfont_1":"iconfont")},null,14,Ae),Vue.createTextVNode(" "+Vue.toDisplayString(e.name),1)])),_:2},1032,["command"]))),64))])),_:1},8,["style"])])),default:Vue.withCtx((()=>[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",Pe,[Vue.createTextVNode("")])),[[d]])])),_:1},8,["popper-class"])])])]),Vue.createElementVNode("div",je,[Vue.createVNode(s,{onCommand:A,trigger:"click",placement:"top","popper-class":`dropdown ${Vue.unref(c)} playmode`,class:"play-mode-menu"},{dropdown:Vue.withCtx((()=>[Vue.createVNode(u,{style:Vue.normalizeStyle({color:Vue.unref(n),background:Vue.unref(r)})},{default:Vue.withCtx((()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(_,(e=>Vue.createVNode(l,{key:e.command,command:e.command},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{textContent:Vue.toDisplayString(e.icon),style:Vue.normalizeStyle(e.style),class:"iconfont"},null,12,qe),Vue.createTextVNode(" "+Vue.toDisplayString(e.name),1)])),_:2},1032,["command"]))),64))])),_:1},8,["style"])])),default:Vue.withCtx((()=>[Vue.createElementVNode("div",ze,[Vue.withDirectives(Vue.createElementVNode("span",Ue,"",512),[[Vue.vShow,"0"==Vue.unref(w)]]),Vue.withDirectives(Vue.createElementVNode("span",Fe,"",512),[[Vue.vShow,"1"==Vue.unref(w)]]),Vue.withDirectives(Vue.createElementVNode("span",He,"",512),[[Vue.vShow,"2"==Vue.unref(w)]])])])),_:1},8,["popper-class"]),Vue.createElementVNode("span",{onMousedown:Vue.withModifiers(H,["prevent"]),class:"iconfont pre"},"",40,Ge),Vue.withDirectives(Vue.createElementVNode("span",{onMousedown:o[3]||(o[3]=Vue.withModifiers((e=>g.value=!1),["prevent"])),class:"iconfont stop"}," ",544),[[Vue.vShow,Vue.unref(g)]]),Vue.withDirectives(Vue.createElementVNode("span",{onMousedown:o[4]||(o[4]=Vue.withModifiers((e=>g.value=!0),["prevent"])),class:"iconfont continue"},"",544),[[Vue.vShow,!Vue.unref(g)]]),Vue.createElementVNode("span",{onMousedown:Vue.withModifiers(F,["prevent"]),class:"iconfont next"},"",40,Je),Vue.createVNode(V,{placement:"top",trigger:"click",width:60,"popper-style":{color:Vue.unref(n),background:Vue.unref(r)},"popper-class":{"popover-skin":"skin"==Vue.unref(t).bgMode}},{reference:Vue.withCtx((()=>[Vue.createElementVNode("div",null,[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",We,[Vue.createTextVNode("")])),[[Vue.vShow,!T.value],[d]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",Ke,[Vue.createTextVNode("")])),[[Vue.vShow,T.value],[d]])])])),default:Vue.withCtx((()=>[Vue.createElementVNode("div",Ye,[Vue.createVNode(a,{modelValue:M.value,"onUpdate:modelValue":o[5]||(o[5]=e=>M.value=e),onChange:j,vertical:"",height:"130px",class:"volume-setting"},null,8,["modelValue"]),Vue.createElementVNode("span",null,Vue.toDisplayString(M.value)+"%",1),Vue.createVNode(i),Vue.withDirectives(Vue.createElementVNode("span",{onMousedown:Vue.withModifiers(U,["prevent"]),class:"iconfont volume"},"",40,Qe),[[Vue.vShow,!T.value]]),Vue.withDirectives(Vue.createElementVNode("span",{onMousedown:Vue.withModifiers(U,["prevent"]),class:"iconfont volume"},"",40,Xe),[[Vue.vShow,T.value]])])])),_:1},8,["popper-style","popper-class"])]),Vue.createElementVNode("div",Ze,[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",null,[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(le)(1e3*Vue.unref(E)+""))+" / "+Vue.toDisplayString(Vue.unref(le)(Vue.unref(k)>0?Vue.unref(h)[Vue.unref(y)].time:"0")),1)])),[[d]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{onClick:P,class:"iconfont"},[Vue.createTextVNode("")])),[[d]]),Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(k)),1)])])}}}),[["__scopeId","data-v-2e426e2d"]]),ot=""+new URL("网易云-39f62acd.svg",import.meta.url).href,nt=""+new URL("暂无搜索结果-ee216750.svg",import.meta.url).href,at=e=>(Vue.pushScopeId("data-v-46ef2abd"),e=e(),Vue.popScopeId(),e),lt={class:"header-container"},ut={class:"login-box"},rt=["src"],st=at((()=>Vue.createElementVNode("span",{class:"title"},"登陆网易云账号",-1))),it={class:"qr-image"},ct=at((()=>Vue.createElementVNode("span",{class:"detail"},"打开网易云音乐APP扫码登录",-1))),Vt={class:"left"},dt={class:"search-area"},mt={class:"search-tip-content"},pt={class:"content-left"},vt=at((()=>Vue.createElementVNode("h4",{class:"title"},"热门搜索",-1))),ft={class:"keywords"},gt=["onClick"],ht={class:"score"},yt={class:"content-right"},wt={class:"title"},kt={class:"no-history"},Ct=["src"],Et=at((()=>Vue.createElementVNode("span",null,"暂无搜索历史",-1))),Nt={class:"keywords"},xt=["onClick"],St=["onKeyup"],Lt={class:"right"},bt={class:"login"},It=["onMousedown"],Rt={class:"iconfont"},Bt=["textContent"],Dt=et(Vue.defineComponent({__name:"index",setup(e){Vue.useCssVars((e=>({"57135d8a":Vue.unref(o),"74bc8bcf":Vue.unref(r),"3e9a1ffe":Vue.unref(s),"1bc87e51":Vue.unref(c),"6dfb0948":Vue.unref(u),"103d56b8":Vue.unref(i)})));const t=H(),o=ce().get("fontColor"),u=Vue.inject("fontGray"),r=ce().get("background"),s=ce().get("shadow"),i=ce().get("themeColor"),c=ce().get("searchBg"),V=Vue.computed((()=>"color"==h.bgMode?"#ffffff"==o.value?"dropdown-dark":"dropdown-light":"dropdown-skin")),d=Vue.inject("hideScroll"),m=VueRouter.useRouter(),p=K(),{showLogin:v,cookie:f,user:g}=Pinia.storeToRefs(p),h=Ce(),{isFullScreen:y,bgMode:w,skin:k,drawerMode:C}=Pinia.storeToRefs(h),E=Ee(),{songList:N,songListId:x}=Pinia.storeToRefs(E),S=Vue.ref(""),L=Vue.reactive(te(n.SESSION,"hotSearch")||[]),b=Vue.reactive(te(n.LOCAL,"userSearch")||[]),I=Vue.ref(!1),R=Vue.reactive([{name:"退出登陆",icon:"",command:"logout",style:"font-size:14px;margin:0 9px 0 2px;",spanClass:"iconfont_1"},{name:"",icon:"",command:"fullScreen",style:"font-size:18px;margin-right:7px;",spanClass:"iconfont_1"},{name:"纯色模式",icon:"",command:"color",style:"font-size:18px;margin-right:7px;",spanClass:"iconfont_1"},{name:"皮肤模式",icon:"",command:"skin",style:"font-size:15px;margin:0 7px 0 4px;",spanClass:"iconfont_1"},{name:"主题设置",icon:"",command:"theme",style:"font-size:18px;margin:0 7px 0 1.8px;",spanClass:"iconfont_1"},{name:"导入数据",icon:"",command:"import",style:"font-size: 15px;margin: 0.5px 8.5px 0 2.8px;display: inline-block;",spanClass:"iconfont_2"},{name:"导出数据",icon:"",command:"export",style:"font-size: 15px;margin: 0.5px 8.5px 0 2.8px;display: inline-block;",spanClass:"iconfont_2"}]),B=Vue.ref();let D=0;const _=Vue.computed((()=>y.value?"":"")),O=Vue.computed((()=>y.value?"退出全屏":"进入全屏")),M=Ne(),{loveSongs:T,loveVideo:$,lovePlaylist:P,loveRadio:A,loveSinger:j,loveAlbum:z,musicDownload:U,mvDownload:F,videoRecord:q,songRecord:G,loveMusicId:J,loveAlbumId:W,lovePlaylistId:Y,loveSingerId:Q,loveRadioId:X,loveVideoId:oe,musicDownloadId:ae,mvDownloadId:le,songRecordId:ue,videoRecordId:re}=Pinia.storeToRefs(M),se=()=>{d(),m.back()},ie=()=>{d(),m.forward()},Ve=()=>{l.get(`/login/qr/key?timestamp=${ne()}`).then((e=>{const{data:{unikey:t}}=e;de(t),me(t)})).catch((e=>{Z(a.ERROR,e.message)}))},de=e=>{(e=>l.get(`/login/qr/create?key=${e}&qrimg=true&timestamp=${ne()}`))(e).then((e=>{const{data:{qrimg:t}}=e;B.value.src=t})).catch((e=>{Z(a.ERROR,e.message)}))},me=e=>{D=setInterval((async()=>{const t=await(e=>l.get(`/login/qr/check?key=${e}&timestamp=${ne()}`))(e).catch((e=>{Z(a.ERROR,e.message)})),{code:o,message:n}=t;"800"==o?(Z(a.INFO,n),clearInterval(D),Ve()):"803"==o&&(v.value=!1,f.value=t.cookie,p.getInfo(),Z(a.SUCCESS,n),clearInterval(D))}),6e3)},pe=()=>{f.value?Z(a.SUCCESS,"已成功登陆，切勿重复点击！"):v.value=!0},ve=()=>{clearInterval(D)},fe=()=>{const e=document.createElement("input");e.type="file",e.accept="image/*",e.style.display="none",document.body.appendChild(e),e.click(),e.onchange=async()=>{const t=e.files;if(t&&t.length>0){const o=t[0],n=await((e,t,o,n)=>new Promise(((a,l)=>{const u=document.createElement("canvas"),r=u.getContext("2d");if(!r)return l(new Error("Failed to get canvas 2D context."));const s=new Image;s.src=URL.createObjectURL(e),s.onload=()=>{let l=s.width,i=s.height;if(l>t||i>o){const e=Math.min(t/l,o/i);l*=e,i*=e}u.width=l,u.height=i,r.clearRect(0,0,l,i),r.drawImage(s,0,0,l,i),a(u.toDataURL(e.type,n))},s.onerror=e=>{l(e)}})))(o,3840,2160,.6);k.value=n,document.body.removeChild(e)}}},ge=()=>{const e=`loveMusic-o-(*)-${JSON.stringify(T.value)}\nloveVideo-o-(*)-${JSON.stringify($.value)}\nlovePlaylist-o-(*)-${JSON.stringify(P.value)}\nloveRadio-o-(*)-${JSON.stringify(A.value)}\nloveSinger-o-(*)-${JSON.stringify(j.value)}\nloveAlbum-o-(*)-${JSON.stringify(z.value)}\nmusicDownload-o-(*)-${JSON.stringify(U.value)}\nmvDownload-o-(*)-${JSON.stringify(F.value)}\nsongRecord-o-(*)-${JSON.stringify(G.value)}\nvideoRecord-o-(*)-${JSON.stringify(q.value)}\nuserPlaylist-o-(*)-${JSON.stringify(N.value)}\nbgmode-p-(*)-${w.value}\nskin-p-(*)-${k.value}`;((e,t)=>{const o=URL.createObjectURL(e),n=document.createElement("a");n.style.display="none",n.href=o,n.download=t,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(o),Z(a.SUCCESS,"个人数据导出成功！")})(new Blob([e],{type:"text/plain; charset=utf-8"}),"config.txt")},he=async e=>{"logout"==e&&f.value?p.logout():"fullScreen"==e?y.value?document.exitFullscreen():document.documentElement.requestFullscreen():"color"==e?(t.changeLight(),h.changeColor()):"skin"==e?(k.value||fe(),await Vue.nextTick(),h.changeSkin(),t.changeSkinMode()):"theme"==e?(C.value="theme",E.showList=!0):"export"==e?ge():"import"==e&&(()=>{const e=document.createElement("input");e.style.display="none",e.type="file",e.accept=".txt",e.onchange=async e=>{const o=e.target.files;if(o.length>0){const e=o[0];if(!/\.txt$/.test(e.name)&&"config"==e.name)return Z(a.ERROR,"请上传配置文件！");const n=new FileReader;n.readAsText(e,"utf-8"),n.onload=e=>{let o=e.target.result;const n=new Map(o.split("\n").map((e=>{const t=e.split("-(*)-")[0].split("-")[0],o=e.split("-(*)-")[0].split("-")[1],n=e.split("-(*)-")[1];return"o"==o?[t,JSON.parse(n)]:[t,n]})));w.value=n.get("bgmode"),k.value=n.get("skin"),"skin"==w.value&&(t.changeSkinMode(),h.changeSkin());const l=n.get("loveMusic").filter((e=>null==J.value.get(e.id)));T.value.push(...l);const u=n.get("loveVideo").filter((e=>null==oe.value.get(e.id)));$.value.push(...u);const r=n.get("lovePlaylist").filter((e=>null==Y.value.get(e.id)));P.value.push(...r);const s=n.get("loveRadio").filter((e=>null==X.value.get(e.id)));A.value.push(...s);const i=n.get("loveSinger").filter((e=>null==Q.value.get(e.id)));j.value.push(...i);const c=n.get("loveAlbum").filter((e=>null==W.value.get(e.id)));z.value.push(...c);const V=n.get("musicDownload").filter((e=>null==ae.value.get(e.id)));U.value.push(...V);const d=n.get("mvDownload").filter((e=>null==le.value.get(e.id)));F.value.push(...d);const m=n.get("songRecord").filter((e=>null==ue.value.get(e.id)));G.value.push(...m);const p=n.get("videoRecord").filter((e=>null==re.value.get(e.id)));q.value.push(...p);const v=n.get("userPlaylist").filter((e=>null==x.value.get(e.id)));N.value.push(...v),Z(a.SUCCESS,"个人数据导入成功")},n.onerror=()=>{Z(a.ERROR,"读取配置文件失败！")}}},document.body.appendChild(e),e.click(),document.body.removeChild(e)})()},ye=()=>{b.includes(S.value)||b.push(S.value),d(),m.push({name:"search",query:{keyWord:S.value}})},we=e=>{b.includes(e)||b.push(e),S.value=e,d(),m.push({name:"search",query:{keyWord:e}})};return Vue.watch(v,(e=>{e&&Ve()})),Vue.onMounted((()=>{document.addEventListener("fullscreenchange",(()=>{y.value=!y.value})),window.addEventListener("beforeunload",(()=>{ee(n.LOCAL,"userSearch",b),ee(n.SESSION,"hotSearch",L),f.value&&ee(n.SESSION,"cookie",f.value),ee(n.SESSION,"userInfo",g.value)}))})),0==L.length&&l.get("/search/hot/detail").then((e=>{if(e){const{data:t}=e;t.forEach((e=>{L.push({searchWord:e.searchWord,score:e.score})}))}})),(e,n)=>{const a=Vue.resolveComponent("el-dialog"),l=Vue.resolveComponent("el-divider"),u=Vue.resolveComponent("el-popover"),s=Vue.resolveComponent("el-avatar"),i=Vue.resolveComponent("el-dropdown-item"),c=Vue.resolveComponent("el-dropdown-menu"),d=Vue.resolveComponent("el-dropdown"),m=Vue.resolveDirective("prevent");return Vue.openBlock(),Vue.createElementBlock("div",lt,[Vue.createVNode(a,{modelValue:Vue.unref(v),"onUpdate:modelValue":n[0]||(n[0]=e=>Vue.isRef(v)?v.value=e:null),onClose:ve,width:"20%",modal:!1,"destroy-on-close":"","close-on-click-modal":!1,class:"dialog-login"},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",ut,[Vue.createElementVNode("img",{src:Vue.unref(ot),class:"logo"},null,8,rt),st,Vue.createElementVNode("div",it,[Vue.createElementVNode("img",{ref_key:"qrcode",ref:B},null,512)]),ct])])),_:1},8,["modelValue"]),Vue.createElementVNode("div",Vt,[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{class:"iconfont",onClick:se},[Vue.createTextVNode("")])),[[m]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{class:"iconfont narrow-right",onClick:ie},[Vue.createTextVNode(" ")])),[[m]]),Vue.createElementVNode("div",dt,[Vue.createVNode(u,{visible:I.value,width:460,placement:"bottom-start","popper-style":{color:Vue.unref(o),background:Vue.unref(r)},"popper-class":{"search-tip":!0,"popover-skin":"skin"==Vue.unref(h).bgMode}},{reference:Vue.withCtx((()=>[Vue.createElementVNode("div",null,[Vue.withDirectives(Vue.createElementVNode("input",{"onUpdate:modelValue":n[2]||(n[2]=e=>S.value=e),onKeyup:Vue.withKeys(ye,["enter"]),onFocusin:n[3]||(n[3]=e=>I.value=!0),onFocusout:n[4]||(n[4]=e=>I.value=!1),type:"text",class:"search",placeholder:"请输入你想要搜索的歌曲，歌手"},null,40,St),[[Vue.vModelText,S.value]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{onClick:ye,class:"iconfont"},[Vue.createTextVNode("")])),[[m]])])])),default:Vue.withCtx((()=>[Vue.createElementVNode("div",mt,[Vue.createElementVNode("div",pt,[vt,Vue.createVNode(l,{class:"divider-h"}),Vue.createElementVNode("ul",ft,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(L.slice(0,8),(e=>(Vue.openBlock(),Vue.createElementBlock("li",{key:e.searchWord,onClick:t=>we(e.searchWord)},[Vue.createElementVNode("span",null,Vue.toDisplayString(e.searchWord),1),Vue.createElementVNode("span",ht,Vue.toDisplayString(e.score)+"次",1)],8,gt)))),128))])]),Vue.createVNode(l,{direction:"vertical",style:{height:"300px",margin:"0"}}),Vue.createElementVNode("div",yt,[Vue.createElementVNode("h2",wt,[Vue.createTextVNode(" 搜索历史 "),Vue.createElementVNode("span",{onMousedown:n[1]||(n[1]=Vue.withModifiers((e=>b.splice(0)),["prevent"])),class:"clear"},"清空",32)]),Vue.createVNode(l,{class:"divider-h"}),Vue.withDirectives(Vue.createElementVNode("div",kt,[Vue.createElementVNode("img",{src:Vue.unref(nt)},null,8,Ct),Et],512),[[Vue.vShow,0==b.length]]),Vue.withDirectives(Vue.createElementVNode("ul",Nt,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(b,(e=>(Vue.openBlock(),Vue.createElementBlock("li",{key:e,onClick:t=>we(e)},[Vue.createElementVNode("span",null,Vue.toDisplayString(e),1)],8,xt)))),128))],512),[[Vue.vShow,0!=b.length]])])])])),_:1},8,["visible","popper-style","popper-class"])])]),Vue.createElementVNode("div",Lt,[Vue.createElementVNode("div",bt,[Vue.createVNode(s,{size:30,src:Vue.unref(g).avatar,fit:"cover"},null,8,["src"]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{onClick:pe,style:{"font-size":"12px"}},[Vue.createTextVNode(Vue.toDisplayString(Vue.unref(g).userName),1)])),[[m]]),Vue.withDirectives(Vue.createElementVNode("span",{onMousedown:n[5]||(n[5]=Vue.withModifiers(((...e)=>Vue.unref(t).changeDark&&Vue.unref(t).changeDark(...e)),["prevent"])),class:"iconfont theme",style:{"font-size":"20px"}},"",544),[[Vue.vShow,"#101010"==Vue.unref(o)&&"color"==Vue.unref(w)]]),Vue.withDirectives(Vue.createElementVNode("span",{onMousedown:n[6]||(n[6]=Vue.withModifiers(((...e)=>Vue.unref(t).changeLight&&Vue.unref(t).changeLight(...e)),["prevent"])),class:"iconfont theme",style:{"font-size":"12px"}},"",544),[[Vue.vShow,"#101010"!=Vue.unref(o)&&"color"==Vue.unref(w)]]),Vue.withDirectives(Vue.createElementVNode("span",{class:"iconfont_1 theme",onMousedown:Vue.withModifiers(fe,["prevent"]),style:{"font-size":"14px"}},"  ",40,It),[[Vue.vShow,"skin"==Vue.unref(w)]])]),Vue.createVNode(d,{trigger:"click",onCommand:he,"popper-class":`dropdown ${Vue.unref(V)} setting-drop`},{dropdown:Vue.withCtx((()=>[Vue.createVNode(c,{style:Vue.normalizeStyle({color:Vue.unref(o),background:Vue.unref(r)})},{default:Vue.withCtx((()=>[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(R,(e=>(Vue.openBlock(),Vue.createBlock(i,{key:e.command,command:e.command},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{class:Vue.normalizeClass(e.spanClass),style:Vue.normalizeStyle(e.style),textContent:Vue.toDisplayString("fullScreen"==e.command?Vue.unref(_):e.icon)},null,14,Bt),Vue.createTextVNode(" "+Vue.toDisplayString("fullScreen"==e.command?Vue.unref(O):e.name),1)])),_:2},1032,["command"])))),128))])),_:1},8,["style"])])),default:Vue.withCtx((()=>[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",Rt,[Vue.createTextVNode(" ")])),[[m]])])),_:1},8,["popper-class"])])])}}}),[["__scopeId","data-v-46ef2abd"]]),_t=""+new URL("logo-92f8a050.svg",import.meta.url).href,Ot={class:"pagination-container"},Mt={class:"total"},Tt={class:"go"},$t=et(Vue.defineComponent({__name:"index",props:{text:{default:"首歌曲"},total:null,curPage:null,pageSize:null},emits:["pageChange"],setup(e,{emit:t}){Vue.useCssVars((e=>({"3f167d9b":Vue.unref(o),faac8c9a:Vue.unref(n)})));const o=ce().get("themeColor"),n=ce().get("fontColor"),a=Vue.ref(""),l=()=>{/^[0-9]+$/.test(a.value)||(a.value="")},u=async e=>{e&&t("pageChange",e)};return(t,o)=>{const n=Vue.resolveComponent("el-pagination");return Vue.openBlock(),Vue.createElementBlock("div",Ot,[Vue.createElementVNode("span",Mt,"一共"+Vue.toDisplayString(e.total)+Vue.toDisplayString(e.text),1),Vue.createVNode(n,{layout:"prev, pager, next",total:e.total,"page-size":e.pageSize,"current-page":e.curPage,onCurrentChange:u},null,8,["total","page-size","current-page"]),Vue.createElementVNode("div",Tt,[Vue.createElementVNode("p",null,[Vue.createTextVNode(" 前往第"),Vue.withDirectives(Vue.createElementVNode("input",{type:"text","onUpdate:modelValue":o[0]||(o[0]=e=>a.value=e),onFocusout:o[1]||(o[1]=e=>u(+a.value)),onInput:l},null,544),[[Vue.vModelText,a.value]]),Vue.createTextVNode("页 ")])])])}}}),[["__scopeId","data-v-92ac24f4"]]),Pt=e=>(Vue.pushScopeId("data-v-3202f450"),e=e(),Vue.popScopeId(),e),At={class:"comment-container"},jt=Pt((()=>Vue.createElementVNode("p",{class:"title"},"精彩评论",-1))),zt={class:"right"},Ut={class:"nickname"},Ft={class:"ip-time"},Ht={class:"comment-time"},qt={key:0,class:"ip"},Gt={class:"comment-content"},Jt={class:"like-count"},Wt=["onClick"],Kt=Pt((()=>Vue.createElementVNode("span",{class:"iconfont_1 like"},"",-1))),Yt=Pt((()=>Vue.createElementVNode("span",{class:"reply"},"回复",-1))),Qt=["onClick"],Xt={key:0,class:"reply-container"},Zt={class:"right"},eo={class:"nickname"},to={class:"ip-time"},oo={class:"comment-time"},no={key:0,class:"ip"},ao={class:"comment-content"},lo={class:"like-count"},uo=["onClick"],ro=Pt((()=>Vue.createElementVNode("span",{class:"iconfont_1 like"},"",-1))),so=Pt((()=>Vue.createElementVNode("span",{class:"reply"},"回复",-1))),io=["onClick"],co=Pt((()=>Vue.createElementVNode("span",{class:"iconfont_1"},"",-1))),Vo=et(Vue.defineComponent({__name:"index",props:{comments:null},setup(e){const t=e;Vue.useCssVars((e=>({"51ecee94":Vue.unref(n),"51dd4f30":Vue.unref(a),"48e6fdea":Vue.unref(u),"5632fb0f":Vue.unref(s),c0e4bddc:Vue.unref(l),"5839e4da":Vue.unref(r)})));const o=Ce(),n=ce().get("fontColor"),a=ce().get("fontBlack"),l=Vue.inject("fontGray"),u=ce().get("shadow"),r=ce().get("themeColor"),s=Vue.computed((()=>"skin"==o.bgMode?"rgba(220,220,220,0.2)":"rgb(240,240,240)")),i=Vue.computed((()=>new Map(t.comments.map(((e,t)=>[e.commentId,t]))))),c=Vue.ref(""),V=Vue.ref(1),d=Vue.ref(20),m=Vue.computed((()=>t.comments.slice((V.value-1)*d.value,V.value*d.value))),p=Vue.computed((()=>t.comments.length)),v=e=>{V.value=e},f=e=>{const t=Math.floor(Math.random()*Math.pow(10,3)*60*60*24+60*Math.pow(10,3)*60);return g(t+ +e)},g=e=>{const t=new Date(e);return t.getFullYear()+"年"+(t.getMonth()+1+"月")+(t.getDate()+"日")+" "+(t.getHours()<10?"0"+t.getHours():t.getHours()+"")+":"+(t.getMinutes()<10?"0"+t.getMinutes():t.getMinutes())};return(e,o)=>{const n=Vue.resolveComponent("el-image"),a=Vue.resolveDirective("prevent");return Vue.openBlock(),Vue.createElementBlock("div",At,[jt,(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(m),((e,o)=>{var l;return Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["comment",{"none-border":o==Vue.unref(m).length-1}]),key:e.commentId},[Vue.createVNode(n,{src:e.avatar,loading:"lazy",class:"left"},null,8,["src"]),Vue.createElementVNode("div",zt,[Vue.createElementVNode("span",Ut,Vue.toDisplayString(e.nickname),1),Vue.createElementVNode("p",Ft,[Vue.createElementVNode("span",Ht,Vue.toDisplayString(g(+e.time)),1),e.ip?(Vue.openBlock(),Vue.createElementBlock("span",qt,"来自"+Vue.toDisplayString(e.ip),1)):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("p",Gt,Vue.toDisplayString(e.content),1),Vue.createElementVNode("div",Jt,[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("p",{onClick:o=>(e=>{const o=t.comments[i.value.get(e)],{isLove:n,likeCount:a}=o;o.likeCount=n?+a-1+"":+a+1+"",o.isLove=!n})(e.commentId)},[Kt,Vue.withDirectives(Vue.createElementVNode("span",{class:"count"},Vue.toDisplayString(e.likeCount),513),[[Vue.vShow,+e.likeCount>0]])],8,Wt)),[[a]]),Yt]),e.reply&&e.reply.length>0?Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("p",{key:0,onClick:t=>(async e=>{c.value==e?c.value="":c.value?(c.value="",await Vue.nextTick(),c.value=e):c.value=e})(e.commentId),class:"get-reply"},[Vue.createTextVNode(" 查看"+Vue.toDisplayString(null==(l=e.reply)?void 0:l.length)+"条回复",1),Vue.createElementVNode("span",{class:Vue.normalizeClass(["iconfont",{"is-rotate":c.value==e.commentId}])},"",2)],8,Qt)),[[a]]):Vue.createCommentVNode("",!0),Vue.createVNode(Vue.Transition,{name:"show"},{default:Vue.withCtx((()=>[e.reply&&e.reply.length>0?Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",Xt,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(e.reply,((o,a)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["reply-area",{"none-border":a==e.reply.length-1}]),key:o.commentId},[Vue.createVNode(n,{src:o.avatar,loading:"lazy",class:"left"},null,8,["src"]),Vue.createElementVNode("div",Zt,[Vue.createElementVNode("span",eo,Vue.toDisplayString(o.nickname),1),Vue.createElementVNode("p",to,[Vue.createElementVNode("span",oo,Vue.toDisplayString(f(e.time)),1),o.ip?(Vue.openBlock(),Vue.createElementBlock("span",no,"来自"+Vue.toDisplayString(o.ip),1)):Vue.createCommentVNode("",!0)]),Vue.createElementVNode("p",ao,Vue.toDisplayString(o.content),1),Vue.createElementVNode("div",lo,[Vue.createElementVNode("p",{onClick:o=>((e,o)=>{const n=t.comments[i.value.get(e)].reply[o],{isLove:a,likeCount:l}=n;n.likeCount=a?+l-1+"":+l+1+"",n.isLove=!a})(e.commentId,a)},[ro,Vue.withDirectives(Vue.createElementVNode("span",{class:"count"},Vue.toDisplayString(o.likeCount),513),[[Vue.vShow,+o.likeCount>0]])],8,uo),so])])],2)))),128)),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("p",{onClick:t=>c.value=c.value==e.commentId?"":e.commentId,class:"collapse"},[Vue.createTextVNode(" 收起 "),co],8,io)),[[a]])],512)),[[Vue.vShow,c.value==e.commentId]]):Vue.createCommentVNode("",!0)])),_:2},1024)])],2)})),128)),d.value<Vue.unref(p)?(Vue.openBlock(),Vue.createBlock(Vue.unref($t),{key:0,"cur-page":V.value,"page-size":d.value,total:Vue.unref(p),text:"个评论",onPageChange:v},null,8,["cur-page","page-size","total"])):Vue.createCommentVNode("",!0)])}}}),[["__scopeId","data-v-3202f450"]]),mo={class:"comment-dialog-container"},po=et(Vue.defineComponent({__name:"index",props:{comments:null},setup(e){Vue.useCssVars((e=>({"9d318a36":Vue.unref(o),"3b06cd5c":Vue.unref(n),"50e12ed4":Vue.unref(t),"2fedbaae":Vue.unref(a)})));const t=ce().get("background"),o=ce().get("fontColor"),n=ce().get("shadow"),a=ce().get("themeColor"),l=Vue.inject("showComments");return(t,o)=>{const n=Vue.resolveComponent("el-dialog");return Vue.openBlock(),Vue.createElementBlock("div",mo,[Vue.createVNode(n,{modelValue:Vue.unref(l),"onUpdate:modelValue":o[0]||(o[0]=e=>Vue.isRef(l)?l.value=e:null),width:"61%",modal:!1,top:"5vh",draggable:"",title:"歌曲评论",class:"comment-dialog"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(Vo),{comments:e.comments},null,8,["comments"])])),_:1},8,["modelValue"])])}}}),[["__scopeId","data-v-c0d56353"]]),vo=et(Vue.defineComponent({__name:"index",props:{showAnimation:{type:Boolean}},setup(e){const t=e,o=Ee(),{isPlay:n}=Pinia.storeToRefs(o),a=Vue.computed((()=>t.showAnimation));return(e,t)=>(Vue.openBlock(),Vue.createElementBlock("div",{class:Vue.normalizeClass(["music-bits",{"show-animation":Vue.unref(n)&&Vue.unref(a)}])},[Vue.createElementVNode("div",{class:Vue.normalizeClass({animation1:Vue.unref(n)&&Vue.unref(a)})},null,2),Vue.createElementVNode("div",{class:Vue.normalizeClass({animation2:Vue.unref(n)&&Vue.unref(a)})},null,2),Vue.createElementVNode("div",{class:Vue.normalizeClass({animation3:Vue.unref(n)&&Vue.unref(a)})},null,2),Vue.createElementVNode("div",{class:Vue.normalizeClass({animation4:Vue.unref(n)&&Vue.unref(a)})},null,2),Vue.createElementVNode("div",{class:Vue.normalizeClass({animation5:Vue.unref(n)&&Vue.unref(a)})},null,2)],2))}}),[["__scopeId","data-v-09496af8"]]),fo={class:"logo"},go=["src"],ho=(e=>(Vue.pushScopeId("data-v-ea79897d"),e=e(),Vue.popScopeId(),e))((()=>Vue.createElementVNode("h3",null,"暮色音乐",-1))),yo={class:"title"},wo=et(Vue.defineComponent({__name:"index",setup(e){Vue.useCssVars((e=>({"3293e152":Vue.unref(t),"335c0242":Vue.unref(o),"6cfe5e94":Vue.unref(l),"0a9d7d0a":Vue.unref(a)})));const t=ce().get("fontColor"),o=ce().get("menuColor"),a=ce().get("active"),l=Vue.inject("fontGray"),u=Vue.inject("hideScroll"),r=[[{label:"推荐",icon:"",index:"/recommend",spanClass:"recommend"},{label:"音乐馆",icon:"",index:"/hall",spanClass:"hall"},{label:"视频",icon:"",index:"/rvideo",spanClass:"video"},{label:"电台",icon:"",index:"/station",spanClass:"station"},{label:"歌手榜",icon:"",index:"/artistlist",spanClass:"artist"}],[{label:"我喜欢",icon:"",index:"/love",spanClass:"love"},{label:"下载记录",icon:"",index:"/download",spanClass:"download"},{label:"最近播放",icon:"",index:"/recent",spanClass:"recent"}]],s=Vue.ref(te(n.SESSION,"activeMenu")||"/recommend"),i=e=>{u(),s.value=e,ee(n.SESSION,"activeMenu",s.value)};return(e,t)=>{const o=Vue.resolveComponent("el-menu-item"),n=Vue.resolveComponent("el-menu"),a=Vue.resolveDirective("prevent");return Vue.openBlock(),Vue.createBlock(n,{class:"menu",onSelect:i,router:"","default-active":s.value},{default:Vue.withCtx((()=>[Vue.createElementVNode("div",fo,[Vue.createElementVNode("img",{src:Vue.unref(_t)},null,8,go),ho]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("h4",yo,[Vue.createTextVNode(" 在线音乐 ")])),[[a]]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r[0],(e=>Vue.withDirectives((Vue.openBlock(),Vue.createBlock(o,{key:e.index,index:e.index,class:Vue.normalizeClass({"is-active":s.value==e.index})},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{class:Vue.normalizeClass(`iconfont ${e.spanClass}`)},Vue.toDisplayString(e.icon),3),Vue.createTextVNode(" "+Vue.toDisplayString(e.label)+" ",1),Vue.createVNode(Vue.unref(vo),{"show-animation":s.value==e.index},null,8,["show-animation"])])),_:2},1032,["index","class"])),[[a]]))),128)),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("h4",null,[Vue.createTextVNode("我的音乐")])),[[a]]),(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(r[1],(e=>Vue.withDirectives((Vue.openBlock(),Vue.createBlock(o,{key:e.index,index:e.index,class:Vue.normalizeClass({"is-active":s.value==e.index})},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{class:Vue.normalizeClass(`iconfont ${e.spanClass}`)},Vue.toDisplayString(e.icon),3),Vue.createTextVNode(" "+Vue.toDisplayString(e.label)+" ",1),Vue.createVNode(Vue.unref(vo),{"show-animation":s.value==e.index},null,8,["show-animation"])])),_:2},1032,["index","class"])),[[a]]))),128))])),_:1},8,["default-active"])}}}),[["__scopeId","data-v-ea79897d"]]),ko={class:"main"},Co={class:"right"},Eo={class:"header"},No={class:"title"},xo=et(Vue.defineComponent({__name:"MusicDetail",setup(e){Vue.useCssVars((e=>({"687a4f86":Vue.unref(i),"26fe21ff":Vue.unref(c),"1b5a59b2":Vue.unref(V),"2f521686":Vue.unref(d),ef691f88:Vue.unref(m),ce967364:Vue.unref(s),"88ca0686":E.value,"3035a117":Vue.unref(r),"90894ebe":Vue.unref(x)})));const t=Ce(),{lyricHeight:o,lyricContentHeight:n,firstLyricMargin:l,imageHeight:u}=Pinia.storeToRefs(t),r=ce().get("shadow"),s=ce().get("themeColor"),i=Vue.inject("fontGray"),c=o,V=n,d=l,m=u,p=Ee(),{songList:v,current:f,isPlay:g,playProcess:h,isChanging:y,playTime:w,songNum:k,showDetail:C}=Pinia.storeToRefs(p),E=Vue.ref("0s"),x=Vue.computed((()=>g.value?"running":"paused")),S=Vue.computed((()=>0==k.value?xe:v.value[f.value].songImage));let L=Vue.reactive([""]),b=Vue.reactive([]),I=0;const R=Vue.ref(0),B=Vue.ref(0),D=Vue.ref(),_=()=>{g.value=!1,h.value=0,w.value=0,C.value=!1},O=()=>{I=setInterval((()=>{if(R.value>=b[B.value])if(B.value++,D.value.scrollTop+=44,0==B.value)E.value="0s";else{const e=(b[B.value]-b[B.value-1])/1e3;E.value=e>4?"4s":e+"s"}R.value+=20}),20)};Vue.watch(g,(e=>{e?O():clearInterval(I)})),Vue.watch(y,(async e=>{var t;e&&(clearInterval(I),R.value=h.value*Number.parseInt(v.value[f.value].time)/100,B.value=b.findIndex((e=>e>R.value)),t=B.value,D.value.scrollTop=44*t,await Vue.nextTick(),O(),y.value=!1)})),Vue.watch(f,(async()=>{L=Vue.reactive([""]),b=Vue.reactive([]),D.value.scrollTop=0,R.value=0,B.value=0,await Vue.nextTick(),M()}));const M=async()=>{if(k.value>0)try{const e=await N(v.value[f.value].id),{lrc:{lyric:t}}=e,o=Number.parseInt(v.value[f.value].time);t.split("\n").map((e=>e.split("]"))).forEach((e=>{if(e.length>1){const t=e[1]?e[1].trim():e[1],n=ae(e[0].slice(1));n<o&&t&&(b.push(n),L.push(t))}}))}catch(e){Z(a.ERROR,e.message)}else Z(a.INFO,"请添加音乐！")};return k.value>0&&M(),(e,t)=>{const o=Vue.resolveComponent("el-image");return Vue.openBlock(),Vue.createElementBlock("div",{class:"song-detail-container",style:Vue.normalizeStyle({background:`url(${Vue.unref(S)}) no-repeat center/cover`})},[Vue.createElementVNode("div",ko,[Vue.createElementVNode("span",{class:"iconfont back",onClick:_},""),Vue.createVNode(o,{src:Vue.unref(S),class:"left"},null,8,["src"]),Vue.createElementVNode("div",Co,[Vue.createElementVNode("div",Eo,[Vue.createElementVNode("h4",No,Vue.toDisplayString(0==Vue.unref(k)?"暮色音乐":Vue.unref(v)[Vue.unref(f)].name),1),Vue.createElementVNode("p",null,"歌手："+Vue.toDisplayString(0==Vue.unref(k)?"潇潇":Vue.unref(v)[Vue.unref(f)].singer),1),Vue.createElementVNode("p",null,"专辑："+Vue.toDisplayString(0==Vue.unref(k)?"潇潇":Vue.unref(v)[Vue.unref(f)].album),1)]),Vue.createElementVNode("div",{class:"content",ref_key:"content",ref:D},[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(L),((e,t)=>(Vue.openBlock(),Vue.createElementBlock("p",{key:e},[Vue.createElementVNode("span",{class:Vue.normalizeClass({"is-current":B.value==t})},Vue.toDisplayString(e),3)])))),128))],512)])]),Vue.createVNode(Vue.unref(tt))],4)}}}),[["__scopeId","data-v-75b0bad7"]]),So=["textContent"],Lo=et(Vue.defineComponent({__name:"index",props:{name:null,icon:null,iconStyle:{default:""},isIconOne:{type:Boolean,default:!1}},setup(e){Vue.useCssVars((e=>({d5e4f3c8:Vue.unref(t),"624cfc2e":Vue.unref(o)})));const t=ce().get("shadow"),o=ce().get("themeColor");return(t,o)=>{const n=Vue.resolveComponent("el-button");return Vue.openBlock(),Vue.createBlock(n,{color:"#e1e1e1"},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{textContent:Vue.toDisplayString(e.icon),style:Vue.normalizeStyle(e.iconStyle),class:Vue.normalizeClass(e.isIconOne?"iconfont_1":"iconfont")},null,14,So),Vue.createTextVNode(Vue.toDisplayString(e.name),1)])),_:1})}}}),[["__scopeId","data-v-8befeb2c"]]),bo=["innerHTML"],Io=Vue.defineComponent({__name:"index",props:{song:null,play:{type:Function}},setup(e){const t=e,o=Ce(),n=ce().get("background"),l=ce().get("fontColor"),u=Vue.computed((()=>"color"==o.bgMode?"#ffffff"==l.value?"dropdown-dark":"dropdown-light":"dropdown-skin")),r=Vue.inject("soucreComments"),s=Vue.inject("showComments"),i=Vue.ref(),c=Vue.ref(!1),V=Vue.computed((()=>t.song.isLove?"&#xe760;":"&#xe761")),d=Vue.computed((()=>t.song.isLove?"margin: 0 7px 0 4px;color:#ff6a6a;":"margin: 0 7px 0 4px;")),m=[{name:"播放",icon:"&#xea6e;",style:"margin: 0 9px 0 2px; font-size: 15px;",command:"playMusic"},{name:"下一首播放",icon:"&#xe63c;",style:"margin: 0 7px 0 0px; font-size: 20px",command:"playNext"},{name:"播放相似单曲",icon:"&#xe602;",style:"margin: 0 8px 0 3px;",command:"playSimi",isIcon1:!0},{name:"复制歌曲信息",icon:"&#xe63b;",style:"margin: 1px 7px 0 4px;",command:"copyMusic"},{name:"我喜欢",icon:"&#xe761;",style:"margin: 0 7px 0 4px;",command:"love"},{name:"查看评论",icon:"&#xe60b;",style:"margin: 1px 7px 0 4px;",command:"comment"},{name:"下载歌词",icon:"&#xe602;",style:"margin: 0 7px 0 4px;",command:"downLyric"},{name:"下载歌曲",icon:"&#xf0304;",style:"margin: 0 8px 0 3px; font-size: 16px;",command:"downloadMusic"}],p=async()=>{var e;c.value=!0,await Vue.nextTick(),null==(e=i.value)||e.click()},v=Ee(),{songList:f,current:g,songListId:h}=Pinia.storeToRefs(v),y=Ne(),w=e=>{const o=t.song;"love"==e?y.addLove(o,y.loveSongs,y.loveMusicId):"downloadMusic"==e?y.addMuiscDownload(o):"playSimi"==e?pe(o.id,g.value,f.value,(()=>{y.addRecord(f.value[g.value+1],y.songRecord,y.songRecordId)})):"playMusic"==e?t.play(o):"playNext"==e?(e=>{if("0"==e.available||"8"==e.available){const t=h.value.get(e.id);if(t!=g.value+1&&t!=g.value){if(null!=t){const o=f.value[g.value+1];f.value[t]=o,f.value[g.value+1]=e}else f.value.splice(g.value+1,0,e);y.addRecord(f.value[g.value+1],y.songRecord,y.songRecordId),Z(a.SUCCESS,"已添加到下一首播放")}else t==g.value&&Z(a.INFO,"歌曲正在播放，请勿重复操作")}else"1"==e.available?Z(a.INFO,"此歌曲为vip专属"):"10"==e.available&&Z(a.INFO,"此歌曲尚未拥有版权，请切换其它歌曲")})(o):"downLyric"==e?ge(o):"copyMusic"==e?he(o):"comment"==e&&(r.length>0&&r.splice(0),we(o.id,"0",r,(()=>{s.value=!0})))};return(e,t)=>{const o=Vue.resolveComponent("el-dropdown-item"),a=Vue.resolveComponent("el-dropdown-menu"),r=Vue.resolveComponent("el-dropdown"),s=Vue.resolveDirective("prevent");return c.value?(Vue.openBlock(),Vue.createBlock(r,{key:0,"popper-class":`dropdown songlist-more ${Vue.unref(u)}`,trigger:"click",onCommand:w},{dropdown:Vue.withCtx((()=>[Vue.createVNode(a,{style:Vue.normalizeStyle({color:Vue.unref(l),background:Vue.unref(n)})},{default:Vue.withCtx((()=>[(Vue.openBlock(),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(m,(e=>Vue.createVNode(o,{key:e.command,command:e.command},{default:Vue.withCtx((()=>[Vue.createElementVNode("span",{innerHTML:"love"==e.command?Vue.unref(V):e.icon,style:Vue.normalizeStyle("love"==e.command?Vue.unref(d):e.style),class:Vue.normalizeClass(e.isIcon1?"iconfont_1":"iconfont")},null,14,bo),Vue.createTextVNode(" "+Vue.toDisplayString(e.name),1)])),_:2},1032,["command"]))),64))])),_:1},8,["style"])])),default:Vue.withCtx((()=>[Vue.createElementVNode("span",{class:"iconfont",ref_key:"more",ref:i},"",512)])),_:1},8,["popper-class"])):Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{key:1,onClick:p,class:"iconfont"},[Vue.createTextVNode("")])),[[s]])}}}),Ro={class:"drawer-container"},Bo={class:"playlist-header"},Do=Vue.createElementVNode("h4",null,"播放列表",-1),_o={class:"header-operation"},Oo={class:"song-name"},Mo={class:"song-singer"},To={class:"song-time"},$o={class:"operate"},Po=["onClick"],Ao=["onClick"],jo=["onMousedown"],zo={class:"theme-container"},Uo=Vue.createElementVNode("h4",null,"主题设置",-1),Fo={class:"theme-operation"},Ho=Vue.defineComponent({__name:"index",setup(e){Vue.useCssVars((e=>({"3efa719a":Vue.unref(u),"2d65a3fa":Vue.unref(s),"3bcfe1d6":Vue.unref(c),"3d8d35b0":Vue.unref(r),"762a5e40":Vue.unref(i),"3e005bcc":Vue.unref(E)})));const t=Ce(),{skinUrl:o,bgMode:n,drawerMode:l}=Pinia.storeToRefs(t),u=ce().get("fontColor"),r=Vue.inject("fontGray"),s=ce().get("shadow"),i=ce().get("themeColor"),c=ce().get("background"),V=Ee(),{isPlay:d,showList:m,songList:p,current:v,songNum:f,playProcess:g,playTime:h,showDetail:y}=Pinia.storeToRefs(V),w=async e=>{const t=p.value.findIndex((t=>t.id==e.id));t!=v.value?v.value=t:(d.value=!1,g.value=0,h.value=0,await Vue.nextTick(),d.value=!0)},k=async()=>{d.value&&(d.value=!1),h.value=0,g.value=0,p.value.splice(0)};Vue.watch(n,(async()=>{await Vue.nextTick();document.querySelector(".playlist-drawer").style.background=`${c.value} url(${o.value}) no-repeat center/cover`}),{immediate:!0});const C=H(),{fontColor:E,fontGray:N,background:x,menuColor:S,themeColor:L,active:b}=Pinia.storeToRefs(C),I=Vue.reactive(["请选择主题色调：","请选择字体主题色调：","请选择字体副色调：","请选择背景色调：","请选择菜单色调：","请选择菜单激活时的色调："]);let R=Vue.reactive([Vue.ref(L.value),Vue.ref(E.value),Vue.ref(N.value),Vue.ref(x.value),Vue.ref(S.value),Vue.ref(b.value)]);const B=()=>{C.setTheme(R.map((e=>e.value))),m.value=!1,Z(a.SUCCESS,"主题保存成功！")},D=()=>{m.value=!1,R=Vue.reactive([Vue.ref(L.value),Vue.ref(E.value),Vue.ref(N.value),Vue.ref(x.value),Vue.ref(S.value),Vue.ref(b.value)]),Z(a.SUCCESS,"主题取消保存成功！")};return(e,t)=>{const o=Vue.resolveComponent("ColorPicker"),n=Vue.resolveComponent("el-drawer"),a=Vue.resolveDirective("prevent");return Vue.openBlock(),Vue.createElementBlock("div",Ro,[Vue.createVNode(n,{modelValue:Vue.unref(m),"onUpdate:modelValue":t[2]||(t[2]=e=>Vue.isRef(m)?m.value=e:null),modal:!1,"show-close":!1,"destroy-on-close":!0,class:"playlist-drawer"},{header:Vue.withCtx((()=>[Vue.withDirectives(Vue.createElementVNode("div",Bo,[Do,Vue.withDirectives(Vue.createElementVNode("div",_o,[Vue.createElementVNode("span",null,Vue.toDisplayString(Vue.unref(f))+"首歌曲",1),Vue.createElementVNode("span",{onClick:t[0]||(t[0]=e=>m.value=!1),class:"iconfont close-list"},""),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{onClick:k,class:"iconfont delete-song"},[Vue.createTextVNode("")])),[[a]])],512),[[Vue.vShow,"playlist"==Vue.unref(l)]])],512),[[Vue.vShow,"playlist"==Vue.unref(l)]])])),default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createElementVNode("ul",null,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(Vue.unref(p),((e,o)=>(Vue.openBlock(),Vue.createElementBlock("li",{key:e.id,class:"song"},[Vue.createElementVNode("p",Oo,Vue.toDisplayString(e.name),1),Vue.createElementVNode("p",Mo,Vue.toDisplayString(Vue.unref(Ve)(e.singer)),1),Vue.createElementVNode("p",To,Vue.toDisplayString(Vue.unref(le)(e.time)),1),Vue.createElementVNode("div",$o,[Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{onClick:e=>(e=>{v.value!=e?v.value=e:d.value=!0})(o),class:"iconfont"},[Vue.createTextVNode("")],8,Po)),[[Vue.vShow,!Vue.unref(d)||Vue.unref(v)!=o],[a]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{onClick:t[1]||(t[1]=e=>d.value=!1),class:"iconfont"},[Vue.createTextVNode("")])),[[Vue.vShow,Vue.unref(d)&&Vue.unref(v)==o],[a]]),Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("span",{class:"iconfont playmv",onClick:t=>(e=>{ve(e,(()=>{y.value&&(h.value=0,g.value=0,d.value=!1,y.value=!1)}))})(e)},[Vue.createTextVNode("")],8,Ao)),[[a]]),Vue.createElementVNode("span",{onMousedown:Vue.withModifiers((e=>(async e=>{if(v.value==e)d.value&&(d.value=!1),g.value=0,h.value=0,e==f.value-1&&(v.value=0),p.value.splice(e,1),await Vue.nextTick(),d.value=!0;else if(v.value<e)p.value.splice(e,1);else{const t=g.value,o=h.value;p.value.splice(e,1),v.value-=1,await Vue.nextTick(),d.value=!1,g.value=t,h.value=o,await Vue.nextTick(),d.value=!0}})(o)),["prevent"]),class:"iconfont delete-song"},"",40,jo),Vue.createVNode(Vue.unref(Io),{song:e,play:w},null,8,["song"])])])))),128))],512),[[Vue.vShow,"playlist"==Vue.unref(l)]]),Vue.withDirectives(Vue.createElementVNode("div",zo,[Uo,(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(I,((e,t)=>Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("div",{class:"color-item",key:e},[Vue.createElementVNode("span",null,Vue.toDisplayString(e),1),Vue.createVNode(o,{color:Vue.unref(R)[t].value,"onUpdate:color":e=>Vue.unref(R)[t].value=e},null,8,["color","onUpdate:color"])])),[[Vue.vShow,"transparent"!=Vue.unref(R)[t].value]]))),128)),Vue.createElementVNode("div",Fo,[Vue.createVNode(Vue.unref(Lo),{onClick:D,name:"取消",icon:"","is-icon-one":!0}),Vue.createVNode(Vue.unref(Lo),{onClick:B,name:"保存",class:"save",icon:"","is-icon-one":!0})])],512),[[Vue.vShow,"theme"==Vue.unref(l)]])])),_:1},8,["modelValue"])])}}}),qo={class:"app-container"},Go=et(Vue.defineComponent({__name:"App",setup(t){Vue.useCssVars((e=>({"3928e7da":Vue.unref(y),"66e2c00e":Vue.unref(w),aadf8878:Vue.unref(S),"124a3f77":Vue.unref(x),"3439a70a":Vue.unref(N),"233b5680":Vue.unref(E),"29e9905a":Vue.unref(I),"10b6a4b1":Vue.unref(b)})));const l=VueRouter.useRoute(),u=Vue.computed((()=>l.fullPath)),r=/^\/video/;e(["space","left","right","up","f"].join(","),((e,t)=>{switch(e.preventDefault(),t.key){case"space":r.test(u.value)||($.value=!$.value);break;case"up":r.test(u.value)||($.value=!1,P.value=0,A.value=0,j.value=!j.value);break;case"left":r.test(u.value)||(z.value>0?T.value=--T.value<0?z.value-1:T.value:Z(a.INFO,"暂无音乐，请您添加音乐"));break;case"right":r.test(u.value)||(z.value>0?T.value=++T.value>=z.value?0:T.value:Z(a.INFO,"暂无音乐，请您添加音乐"));break;case"f":h.value?document.exitFullscreen():document.documentElement.requestFullscreen()}}));const s=Ce(),{showScroll:i,left:c,contentHeight:V,headerHeight:d,musicFooterHeight:m,musicContentHeight:p,skinUrl:v,skin:f,bgMode:g,isFullScreen:h}=Pinia.storeToRefs(s),y=ce().get("menuColor"),w=ce().get("background"),k=ce().get("fontGray"),C=Vue.computed((()=>"color"==g.value?w.value:"rgb(0,0,0,0.9)"));Vue.provide("fontGray",k),Vue.provide("loadingBg",C);const E=V,N=d,x=p,S=m,L=Vue.ref(!0);Vue.provide("firstLoading",L);const b=i,I=c;let R=0;const B=()=>{"none"!=i.value&&(i.value="none")},D=new Map([["/video","/video"],["/hall","/hall"],["/station","/station"],["/rvideo","rvideo"],["/artistlist","/artistlist"]]);Vue.provide("hideScroll",B);const _=o((()=>{D.get(l.fullPath.split("?")[0])&&("block"!=i.value&&(i.value="block"),R&&clearTimeout(R),R=setTimeout((()=>{B()}),3e3))}),600,{leading:!0,trailing:!1}),O=Ee(),{songList:M,current:T,isPlay:$,playProcess:P,playTime:A,showDetail:j,songNum:z,playMode:U}=Pinia.storeToRefs(O),F=Vue.reactive([]),q=Vue.ref(!1);Vue.provide("soucreComments",F),Vue.provide("showComments",q);(()=>{const e=M.value.map((e=>e.id));e.length>0&&se(e.join(","),M.value),setInterval((()=>{const e=M.value.map((e=>e.id));e.length>0&&se(e.join(","),M.value,"",T.value)}),6e5)})();const G=H(),{fontColor:J,background:W,menuColor:K,fontBlack:Y,tableHover:Q,shadow:X,searchBg:te,active:oe,themeColor:ne,fontGray:ae}=Pinia.storeToRefs(G),le=Ne(),{loveSongs:ue,loveAlbum:re,loveSinger:ie,lovePlaylist:Ve,loveVideo:de,musicDownload:me,mvDownload:pe,songRecord:ve,videoRecord:fe,loveRadio:ge}=Pinia.storeToRefs(le);return Vue.onMounted((()=>{window.addEventListener("beforeunload",(()=>{ee(n.LOCAL,"theme",{fontBlack:Y.value,fontColor:J.value,backgound:W.value,menuColor:K.value,tableHover:Q.value,shadow:X.value,searchBg:te.value,active:oe.value,themeColor:ne.value,fontGray:ae.value}),ee(n.LOCAL,"skin",f.value),ee(n.LOCAL,"bgMode",g.value),ee(n.LOCAL,"isFullScreen",h.value),ee(n.LOCAL,"currentPlay",T.value),ee(n.LOCAL,"playMode",U.value),ee(n.LOCAL,"userPlaylist",M.value),ee(n.LOCAL,"loveSongs",ue.value),ee(n.LOCAL,"loveAlbum",re.value),ee(n.LOCAL,"loveSinger",ie.value),ee(n.LOCAL,"lovePlaylist",Ve.value),ee(n.LOCAL,"loveVideo",de.value),ee(n.LOCAL,"musicDownload",me.value),ee(n.LOCAL,"mvDownload",pe.value),ee(n.LOCAL,"songRecord",ve.value),ee(n.LOCAL,"videoRecord",fe.value),ee(n.LOCAL,"loveRadio",ge.value)}))})),(e,t)=>{const o=Vue.resolveComponent("el-aside"),n=Vue.resolveComponent("el-header"),a=Vue.resolveComponent("router-view"),l=Vue.resolveComponent("el-main"),u=Vue.resolveComponent("el-footer"),r=Vue.resolveComponent("el-container"),s=Vue.resolveDirective("loading");return Vue.openBlock(),Vue.createElementBlock("div",qo,[Vue.createVNode(Vue.Transition,{name:"slide",appear:""},{default:Vue.withCtx((()=>[Vue.withDirectives(Vue.createVNode(r,{class:"home-container",style:Vue.normalizeStyle({background:`url(${Vue.unref(v)}) no-repeat center/cover`})},{default:Vue.withCtx((()=>[Vue.createVNode(o,{width:"200px",class:Vue.normalizeClass(["side",{"side-skin":"skin"==Vue.unref(g)}])},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(wo))])),_:1},8,["class"]),Vue.createVNode(r,{class:Vue.normalizeClass(["main",{"main-skin":"skin"==Vue.unref(g)}])},{default:Vue.withCtx((()=>[Vue.createVNode(n,{class:"header"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(Dt))])),_:1}),Vue.withDirectives((Vue.openBlock(),Vue.createBlock(l,{class:"content","element-loading-background":Vue.unref(C),"element-loading-spinner":Vue.unref(ke)},{default:Vue.withCtx((()=>[Vue.createVNode(a,{onScroll:t[0]||(t[0]=e=>Vue.unref(_)()),class:"view"},{default:Vue.withCtx((({Component:t})=>[(Vue.openBlock(),Vue.createBlock(Vue.KeepAlive,{max:8,exclude:["AlbumDetailView","ArtistDetailView","PlayListView"]},[(Vue.openBlock(),Vue.createBlock(Vue.resolveDynamicComponent(t),{key:e.$route.fullPath}))],1024))])),_:1})])),_:1},8,["element-loading-background","element-loading-spinner"])),[[s,L.value]]),Vue.unref(O).showDetail?Vue.createCommentVNode("",!0):(Vue.openBlock(),Vue.createBlock(u,{key:0,class:"footer"},{default:Vue.withCtx((()=>[Vue.createVNode(Vue.unref(tt))])),_:1}))])),_:1},8,["class"])])),_:1},8,["style"]),[[Vue.vShow,!Vue.unref(O).showDetail]])])),_:1}),Vue.createVNode(Vue.Transition,{name:"slide"},{default:Vue.withCtx((()=>[Vue.unref(O).showDetail?(Vue.openBlock(),Vue.createBlock(xo,{key:0})):Vue.createCommentVNode("",!0)])),_:1}),Vue.createVNode(Vue.unref(Ho)),Vue.createVNode(Vue.unref(po),{comments:F},null,8,["comments"])])}}}),[["__scopeId","data-v-6ca4cd85"]]),Jo=Vue.createApp(Go);Jo.directive("prevent",(e=>{e.onmousedown=()=>!1})),Jo.use(J),Jo.use(Q),Jo.use(ElementPlus),Jo.mount("#app");export{F as $,C as A,m as B,Lo as C,p as D,v as E,T as F,x as G,S as H,L as I,M as J,g as K,B as L,R as M,f as N,D as O,$t as P,I as Q,k as R,Vo as S,y as T,w as U,h as V,b as W,E as X,A as Y,U as Z,et as _,Ne as a,ke as a0,nt as a1,Io as a2,ve as a3,me as b,a as c,u as d,Z as e,_ as f,ce as g,r as h,i,ie as j,se as k,c as l,V as m,O as n,ye as o,j as p,z as q,we as r,fe as s,Ce as t,Ee as u,he as v,ge as w,le as x,d as y,re as z};
