import{x as e}from"../element-plus/element-plus.93eaa55f.js";import{G as a,ax as s,Z as t,i,d as o,M as l,O as r,u as n,o as p,a as u,U as m,c,a7 as d,P as v,I as j,S as h,T as x,F as y,z as _,n as f,aq as g,ay as w,az as C}from"../@vue/@vue.7ad02ad1.js";import{u as k,O as z,m as b,i as M,_ as G}from"../../static/index-5203d642.js";/* empty css                                                                                                                     */import{S as I}from"../index/index.9c86f1c4.js";import{B as O}from"../index/index.9b2d83fa.js";import{S}from"../index/index.40d91209.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../crypto-js/crypto-js.6e421324.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../lyc-storage/lyc-storage.12bb0aad.js";const V=e=>(w("data-v-1c90efd0"),e=e(),C(),e),A={class:"artistlist-container scroll-container"},R=V((()=>u("h4",{class:"title"},"歌手类型",-1))),U={class:"name-ch"},B=["onClick"],E=V((()=>u("h4",{class:"title"},"全部歌手",-1))),L=G(a({__name:"ArtistlistView",setup(a){s((e=>({"2aabeac8":n(w),"2a9c4b64":n(C),"09a44e5e":n(L),97690582:n(G),d14b21b4:n(V)})));const{fontColor:w,fontBlack:C,boxShadow:G,themeColor:V,fontGray:L,contentHeight:P}=k(),F=t([]),H=i((()=>F.filter((e=>e.name.includes(T.value))))),T=o(""),Z=t(new Map),q=o(0),D=i((()=>K.get(J[q.value]))),J=t(["全部","男歌手","女歌手","组合"]),K=new Map([["全部",-1],["男歌手",1],["女歌手",2],["组合",3]]),N=o(0),Q=i((()=>X.get(W[N.value]))),W=["全部","华语","欧美","日本","韩国","其他"],X=new Map([["全部",-1],["华语",7],["欧美",96],["日本",8],["韩国",16],["其他",0]]),Y=t("全部,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(",")),$=o("全部"),ee=_("firstLoading"),ae=async(e,a)=>{F.splice(0),"歌手地区"==a?N.value=e:"歌手类型"==a?q.value=e:$.value=Y[e],await f();const s=Z.get(D.value+""+Q.value+$.value);s?F.push(...s):se()},se=async()=>{ee.value=!0;try{const e=await z(D.value,Q.value,100,"全部"==$.value?void 0:$.value.toLowerCase()),{artists:a}=e;a.forEach((e=>{const{img1v1Url:a,id:s,name:t,fansCount:i}=e;F.push({id:s,name:t,avatar:a,score:i})})),Z.set(D.value+""+Q.value+$.value,[...F])}catch(e){b(M.ERROR,e.message)}ee.value=!1};return se(),(a,s)=>{const t=e,i=g("prevent");return p(),l(t,{"max-height":n(P),noresize:""},{default:r((()=>[u("div",A,[m(n(S),{modelValue:T.value,"onUpdate:modelValue":s[0]||(s[0]=e=>T.value=e)},null,8,["modelValue"]),R,m(n(O),{onGetActiveIndex:ae,type:W,"cur-index":0,"show-title":!1,title:"歌手地区",class:"area"}),m(n(O),{onGetActiveIndex:ae,type:J,"cur-index":0,"show-title":!1,title:"歌手类型"},null,8,["type"]),u("ul",U,[(p(!0),c(y,null,d(Y,((e,a)=>v((p(),c("li",{key:e,onClick:e=>ae(a,"歌手姓名"),class:j({"is-active":$.value==e})},[h(x(e),1)],10,B)),[[i]]))),128))]),E,m(n(I),{"singer-list":n(H)},null,8,["singer-list"])])])),_:1},8,["max-height"])}}}),[["__scopeId","data-v-1c90efd0"]]);export{L as default};
