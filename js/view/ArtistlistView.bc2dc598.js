import{G as e,ax as s,Z as a,i as t,d as o,c as i,U as l,u as r,a as n,F as p,a7 as u,z as m,o as c,P as d,I as v,S as j,T as y,ay as f,az as h,n as _,aq as x}from"../@vue/@vue.7ad02ad1.js";import{Q as g,m as w,i as C,_ as k}from"../../static/index-487e9f37.js";import"../element-plus/element-plus.70abbed3.js";/* empty css                                                                                                                     */import{S as z}from"../index/index.7f54a78d.js";import{B as S}from"../index/index.809c18a1.js";import{S as G}from"../index/index.50b31e4b.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../crypto-js/crypto-js.6e421324.js";import"../lyc-storage/lyc-storage.12bb0aad.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";const I=e=>(f("data-v-f1e5f1ed"),e=e(),h(),e),M={class:"artistlist-container scroll-container"},V=I((()=>n("h4",{class:"title"},"歌手类型",-1))),A={class:"name-ch"},R=["onClick"],U=I((()=>n("h4",{class:"title"},"全部歌手",-1))),b=k(e({__name:"ArtistlistView",setup(e){s((e=>({"34f03599":r(f),"34e09635":r(h),"1d9a3526":r(b),"82e06fe0":r(k),"54c10316":r(I)})));const{fontColor:f,fontBlack:h,boxShadow:k,themeColor:I,fontGray:b}=m("theme"),B=m("hideScrollbar"),E=a([]),L=t((()=>E.filter((e=>e.name.includes(O.value))))),O=o(""),P=a(new Map),F=o(0),Q=t((()=>Z.get(T[F.value]))),T=a(["全部","男歌手","女歌手","组合"]),Z=new Map([["全部",-1],["男歌手",1],["女歌手",2],["组合",3]]),q=o(0),D=t((()=>J.get(H[q.value]))),H=["全部","华语","欧美","日本","韩国","其他"],J=new Map([["全部",-1],["华语",7],["欧美",96],["日本",8],["韩国",16],["其他",0]]),K=a("全部,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(",")),N=o("全部"),W=m("firstLoading"),X=async(e,s)=>{B(),E.splice(0),"歌手地区"==s?q.value=e:"歌手类型"==s?F.value=e:N.value=K[e],await _();const a=P.get(Q.value+""+D.value+N.value);a?E.push(...a):Y()},Y=async()=>{W.value=!0;try{const e=await g(Q.value,D.value,100,"全部"==N.value?void 0:N.value.toLowerCase()),{artists:s}=e;s.forEach((e=>{const{img1v1Url:s,id:a,name:t,fansCount:o}=e;E.push({id:a,name:t,avatar:s,score:o})})),P.set(Q.value+""+D.value+N.value,[...E])}catch(e){w(C.ERROR,e.message)}W.value=!1};return Y(),(e,s)=>{const a=x("prevent");return c(),i("div",M,[l(r(G),{modelValue:O.value,"onUpdate:modelValue":s[0]||(s[0]=e=>O.value=e)},null,8,["modelValue"]),V,l(r(S),{onGetActiveIndex:X,type:H,"cur-index":0,"show-title":!1,title:"歌手地区",class:"area"}),l(r(S),{onGetActiveIndex:X,type:T,"cur-index":0,"show-title":!1,title:"歌手类型"},null,8,["type"]),n("ul",A,[(c(!0),i(p,null,u(K,((e,s)=>d((c(),i("li",{key:e,onClick:e=>X(s,"歌手姓名"),class:v({"is-active":N.value==e})},[j(y(e),1)],10,R)),[[a]]))),128))]),U,l(r(z),{"singer-list":r(L)},null,8,["singer-list"])])}}}),[["__scopeId","data-v-f1e5f1ed"]]);export{b as default};
