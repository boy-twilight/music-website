import{u as s,w as a,x as e,h as t}from"../element-plus/element-plus.93eaa55f.js";import{G as i,ax as o,o as l,M as n,O as r,c,a7 as p,a as m,F as u,Z as d,u as h,U as g,T as f,z as y,ay as j,az as v}from"../@vue/@vue.7ad02ad1.js";import{_,u as x,a as k,g as C,b,c as z,d as w,e as E,f as I,h as U,m as R,i as A}from"../../static/index-1ea6ea63.js";/* empty css                                                                                                                     */import{A as G}from"../index/index.752bb5d3.js";import{A as M}from"../index/index.8180a858.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../crypto-js/crypto-js.6e421324.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../lyc-storage/lyc-storage.12bb0aad.js";const O=["src"],B=_(i({__name:"index",props:{pictures:null,type:null,height:null,position:null},setup:e=>(o((s=>({"033a72af":e.height}))),(t,i)=>{const o=s,d=a;return l(),n(d,{height:e.height,type:e.type,"indicator-position":e.position,class:"carousel"},{default:r((()=>[(l(!0),c(u,null,p(e.pictures,(s=>(l(),n(o,{key:s},{default:r((()=>[m("img",{src:s.pic},null,8,O)])),_:2},1024)))),128))])),_:1},8,["height","type","indicator-position"])})}),[["__scopeId","data-v-1993c157"]]),D=s=>(j("data-v-38dc07a2"),s=s(),v(),s),F={class:"main-container scroll-container"},H={class:"musiclist"},L=D((()=>m("h4",{class:"title"},"推荐新音乐",-1))),N={class:"content"},P=["onClick"],S=[D((()=>m("span",{class:"iconfont"},"",-1)))],T={class:"right"},V=_(i({__name:"RecommendView",setup(s){o((s=>({"5eb07ac2":h(a),"5ea0db5e":h(i),"2f5fe58e":h(j),f19e51b8:h(_),38304328:h(v)})));const{fontColor:a,fontBlack:i,boxShadow:j,themeColor:v,fontGray:_,contentHeight:O}=x(),D=d([]),V=d([]),Z=d([]),q=d([]),J=y("firstLoading"),{playMusic:K}=k();return C((async()=>{try{(await Promise.all([b(),z(10),w(40),E(10,"内地","全部","最新")])).forEach(((s,a)=>{if(0==a){const{banners:a}=s;a.forEach((s=>{const{imageUrl:a,targetId:e}=s;D.push({id:e,pic:a})}))}else if(1==a){const{playlists:a}=s;a.forEach((s=>{if(V.length<10){const{name:a,id:e,coverImgUrl:t,playCount:i,description:o,tags:l,creator:n}=s;V.push({name:a,id:e,playCount:i,description:o,image:t,tag:l,creator:{avatarUrl:n.avatarUrl,nickname:n.nickname}})}}))}else if(2==a){const{data:{list:a}}=s;for(let s of a){const{fee:a}=s.data;if(!(Z.length<10))break;"0"!=a&&"8"!=a||I(Z,s.data)}U(Z)}else{const{data:a}=s;a.forEach((s=>{const{id:a,name:e,cover:t,playCount:i,artistName:o}=s;q.push({id:a,name:e,image:t,playCount:i,artist:o})}))}}))}catch(s){R(A.ERROR,s.message)}J.value=!1}),J),(s,a)=>{const i=t,o=e;return l(),n(o,{"max-height":h(O)},{default:r((()=>[m("div",F,[g(h(B),{pictures:D.slice(0,5),type:"card",height:"230px"},null,8,["pictures"]),g(h(G),{title:"你的歌单补给站",playlists:V},null,8,["playlists"]),m("div",H,[L,m("div",N,[(l(!0),c(u,null,p(Z,(s=>(l(),c("div",{key:s.id,class:"song-recommend"},[m("div",{onClick:a=>h(K)(s),class:"mask"},S,8,P),g(i,{src:s.songImage,loading:"lazy",class:"left"},null,8,["src"]),m("div",T,[m("p",null,f(s.name),1),m("p",null,f(s.singer),1)])])))),128))])]),g(h(M),{title:"最新mv",mvs:q,class:"mv-list"},null,8,["mvs"])])])),_:1},8,["max-height"])}}}),[["__scopeId","data-v-38dc07a2"]]);export{V as default};
