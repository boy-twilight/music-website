import{G as e,ax as s,Z as a,i as t,r as i,c as o,U as l,u as n,a as r,F as p,a7 as u,z as c,o as m,P as v,I as d,S as j,T as h,ay as _,az as g,n as f,aq as y}from"../@vue/@vue.59fec093.js";import{g as x,Q as w,j as k,k as C,_ as z}from"../../static/index-eed76f9e.js";import"../element-plus/element-plus.11842af0.js";/* empty css                                                                                                                     */import{S as G}from"../index/index.0062f7c7.js";import{B as A}from"../index/index.b4f9c48f.js";import{S as M}from"../index/index.bca8df29.js";import"../vue-router/vue-router.10a7fca4.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.81428a33.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.57559ed5.js";import"../dayjs/dayjs.c1293ab3.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.c2bb539f.js";import"../@element-plus/@element-plus.189e73a2.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";const S=e=>(_("data-v-d6cce558"),e=e(),g(),e),b={class:"artistlist-container scroll-container"},R=S((()=>r("h4",{class:"title"},"歌手类型",-1))),B={class:"name-ch"},E=["onClick"],I=S((()=>r("h4",{class:"title"},"全部歌手",-1))),L=z(e({__name:"ArtistlistView",setup(e){s((e=>({"265bce79":n(_),"264c2f15":n(g),"0980b08d":n(L),a0093e20:n(z),"11a70195":n(S)})));const _=x().get("fontColor"),g=x().get("fontBlack"),z=x().get("shadow"),S=x().get("themeColor"),L=c("fontGray"),U=a([]),F=t((()=>U.filter((e=>e.name.includes(K.value))))),K=i(""),N=a(new Map),O=i(0),P=t((()=>T.get(Q[O.value]))),Q=a(["全部","男歌手","女歌手","组合"]),T=new Map([["全部",-1],["男歌手",1],["女歌手",2],["组合",3]]),V=i(0),Z=t((()=>D.get(q[V.value]))),q=["全部","华语","欧美","日本","韩国","其他"],D=new Map([["全部",-1],["华语",7],["欧美",96],["日本",8],["韩国",16],["其他",0]]),H=a("全部,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(",")),J=i("全部"),W=c("firstLoading"),X=c("hideScroll"),Y=async(e,s)=>{X(),U.splice(0),"歌手地区"==s?V.value=e:"歌手类型"==s?O.value=e:J.value=H[e],await f();const a=N.get(P.value+""+Z.value+J.value);a?U.push(...a):ee()},$=e=>{K.value=e},ee=async()=>{W.value=!0;try{const e=await w(P.value,Z.value,100,"全部"==J.value?void 0:J.value.toLowerCase()),{artists:s}=e;s.forEach((e=>{const{img1v1Url:s,id:a,name:t,fansCount:i}=e;U.push({id:a,name:t,avatar:s,score:i})})),N.set(P.value+""+Z.value+J.value,[...U])}catch(e){k(C.ERROR,e.message)}W.value=!1};return ee(),(e,s)=>{const a=y("prevent");return m(),o("div",b,[l(n(M),{onGetContent:$}),R,l(n(A),{onGetActive:Y,type:q,"active-value":0,"show-title":!1,title:"歌手地区",class:"area"}),l(n(A),{onGetActive:Y,type:Q,"active-value":0,"show-title":!1,title:"歌手类型"},null,8,["type"]),r("ul",B,[(m(!0),o(p,null,u(H,((e,s)=>v((m(),o("li",{key:e,onClick:e=>Y(s,"歌手姓名"),class:d({"is-active":J.value==e})},[j(h(e),1)],10,E)),[[a]]))),128))]),I,l(n(G),{"singer-list":n(F)},null,8,["singer-list"])])}}}),[["__scopeId","data-v-d6cce558"]]);export{L as default};
