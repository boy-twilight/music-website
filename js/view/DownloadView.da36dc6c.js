import{x as e,y as s}from"../element-plus/element-plus.79622da4.js";import{G as a,ax as o,d as t,i,M as n,O as l,u as r,o as p,a as d,P as u,V as m,U as _,z as c}from"../@vue/@vue.7ad02ad1.js";import{s as v}from"../pinia/pinia.07d51cb2.js";import{u as j,h as x,f as g,V as f,_ as y}from"../../static/index-4c3800ce.js";/* empty css                                                                                                                     */import{A as h}from"../index/index.44c23854.js";import"../index.vue_vue_type_style_index_0_scoped_b3813f91_lang/index.vue_vue_type_style_index_0_scoped_b3813f91_lang.2c5ee8ac.js";import{U as w,a as b}from"../index/index.9c6a60d0.js";/* empty css                                                                                                                     */import{N as z}from"../index/index.b1c958e6.js";import{T as D}from"../index/index.9a2c7736.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../crypto-js/crypto-js.6e421324.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../lyc-storage/lyc-storage.12bb0aad.js";import"../index/index.75ca68af.js";const S={class:"download-container scroll-container"},k=y(a({__name:"DownloadView",setup(a){o((e=>({"5b24c24b":r(y),"3cc0fa7b":r(k)})));const{fontColor:y,fontGray:k,contentHeight:V}=j(),I=x(),{mvDownload:P,musicDownload:G}=v(I),U=c("firstLoading"),C=t(!1),H=t(),L=t(),M=i((()=>{var e;const s=null==(e=L.value)?void 0:e.getPage();return s||1})),N=i((()=>{var e;const s=null==(e=L.value)?void 0:e.getPageSize();return s||f})),O=()=>{var e;null==(e=H.value)||e.openSelectBox()},A=e=>{const s=P.value.findIndex((s=>s.id==e));P.value.splice(s,1)};return(async()=>{U.value=!0,await g(G.value),I.initLoveMusic(G.value),U.value=!1})(),(a,o)=>{const t=s,i=e;return p(),n(i,{"max-height":r(V)},{default:l((()=>[d("div",S,[u(_(r(w),{showSelect:C.value,"onUpdate:showSelect":o[0]||(o[0]=e=>C.value=e),"cur-page":r(M),"page-size":r(N),"page-name":"DownloadView",ref_key:"batch",ref:H},null,8,["showSelect","cur-page","page-size"]),[[m,C.value]]),u(_(r(D),{active:"song"},{content:l((()=>[_(t,{label:"下载歌曲",name:"song"},{default:l((()=>[_(r(b),{onOpenSelect:O,"page-name":"DownloadView",ref_key:"table",ref:L},null,512)])),_:1}),_(t,{label:"下载视频",name:"video "},{default:l((()=>[u(_(r(z),{text:"暂无视频下载记录"},null,512),[[m,0==r(P).length]]),u(_(r(h),{mvs:r(P),"show-delete":!0,transitionName:"list","show-pagination":!0,onGetDeleteId:A},null,8,["mvs"]),[[m,r(P).length>0]])])),_:1})])),_:1},512),[[m,!C.value]])])])),_:1},8,["max-height"])}}}),[["__scopeId","data-v-5049142b"]]);export{k as default};
