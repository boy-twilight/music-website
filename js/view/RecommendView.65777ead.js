import{u as s,w as a,h as e}from"../element-plus/element-plus.70abbed3.js";import{G as t,ax as i,o,M as l,O as n,c as r,a7 as p,a as c,F as m,Z as d,U as u,u as f,T as h,ay as g,az as y,z as j}from"../@vue/@vue.7ad02ad1.js";import{_ as v,u as _,a as x,g as b,b as k,c as C,d as z,e as w,f as E,h as I,m as U,i as R}from"../../static/index-93562299.js";/* empty css                                                                                                                     */import{A}from"../index/index.59f22b8c.js";import{A as G}from"../index/index.1537881f.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../crypto-js/crypto-js.6e421324.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../lyc-storage/lyc-storage.12bb0aad.js";const M=["src"],O=v(t({__name:"index",props:{pictures:null,type:null,height:null,position:null},setup:e=>(i((s=>({"033a72af":e.height}))),(t,i)=>{const d=s,u=a;return o(),l(u,{height:e.height,type:e.type,"indicator-position":e.position,class:"carousel"},{default:n((()=>[(o(!0),r(m,null,p(e.pictures,(s=>(o(),l(d,{key:s},{default:n((()=>[c("img",{src:s.pic},null,8,M)])),_:2},1024)))),128))])),_:1},8,["height","type","indicator-position"])})}),[["__scopeId","data-v-1993c157"]]),B=s=>(g("data-v-beff1af8"),s=s(),y(),s),D={class:"main-container"},F={class:"musiclist"},L=B((()=>c("h4",{class:"title"},"推荐新音乐",-1))),N={class:"content"},P=["onClick"],S=[B((()=>c("span",{class:"iconfont"},"",-1)))],T={class:"right"},V=v(t({__name:"RecommendView",setup(s){i((s=>({"01acbb19":f(a),"019d1bb5":f(t),e96764e0:f(l),"000fafed":f(g),bf18ae16:f(n)})));const{fontColor:a,fontBlack:t,boxShadow:l,themeColor:n,fontGray:g}=_(),{playMusic:y}=x(),v=d([]),M=d([]),B=d([]),V=d([]),Z=j("firstLoading");return b((async()=>{try{(await Promise.all([k(),C(10),z(40),w(10,"内地","全部","最新")])).forEach(((s,a)=>{if(0==a){const{banners:a}=s;a.forEach((s=>{const{imageUrl:a,targetId:e}=s;v.push({id:e,pic:a})}))}else if(1==a){const{playlists:a}=s;a.forEach((s=>{if(M.length<10){const{name:a,id:e,coverImgUrl:t,playCount:i,description:o,tags:l,creator:n}=s;M.push({name:a,id:e,playCount:i,description:o,image:t,tag:l,creator:{avatarUrl:n.avatarUrl,nickname:n.nickname}})}}))}else if(2==a){const{data:{list:a}}=s;for(let s of a){const{fee:a}=s.data;if(!(B.length<10))break;"0"!=a&&"8"!=a||E(B,s.data)}I(B)}else{const{data:a}=s;a.forEach((s=>{const{id:a,name:e,cover:t,playCount:i,artistName:o}=s;V.push({id:a,name:e,image:t,playCount:i,artist:o})}))}}))}catch(s){U(R.ERROR,s.message)}Z.value=!1}),Z),(s,a)=>{const t=e;return o(),r("div",D,[u(f(O),{pictures:v.slice(0,5),type:"card",height:"230px"},null,8,["pictures"]),u(f(A),{title:"你的歌单补给站",playlists:M},null,8,["playlists"]),c("div",F,[L,c("div",N,[(o(!0),r(m,null,p(B,(s=>(o(),r("div",{key:s.id,class:"song-recommend"},[c("div",{onClick:a=>f(y)(s),class:"mask"},S,8,P),u(t,{src:s.songImage,loading:"lazy",class:"left"},null,8,["src"]),c("div",T,[c("p",null,h(s.name),1),c("p",null,h(s.singer),1)])])))),128))])]),u(f(G),{title:"最新mv",mvs:V,class:"mv-list"},null,8,["mvs"])])}}}),[["__scopeId","data-v-beff1af8"]]);export{V as default};
