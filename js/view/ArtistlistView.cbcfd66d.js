import{g as e,Q as t,e as a,c as u,_ as s}from"../../static/index-a47c3a7a.js";/* empty css                                                                                                                     */import{S as l}from"../index/index.eeedc938.js";import{B as n}from"../index/index.c36d15e6.js";import{S as o}from"../index/index.1c83a27b.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../nprogress/nprogress.204a1a2a.js";import"../dplayer/dplayer.87601a3d.js";import"../lodash-es/lodash-es.8b477e85.js";/* empty css                                   */const r=e=>(Vue.pushScopeId("data-v-d6cce558"),e=e(),Vue.popScopeId(),e),i={class:"artistlist-container scroll-container"},c=r((()=>Vue.createElementVNode("h4",{class:"title"},"歌手类型",-1))),V={class:"name-ch"},d=["onClick"],p=r((()=>Vue.createElementVNode("h4",{class:"title"},"全部歌手",-1))),v=s(Vue.defineComponent({__name:"ArtistlistView",setup(s){Vue.useCssVars((e=>({"265bce79":Vue.unref(r),"264c2f15":Vue.unref(v),"0980b08d":Vue.unref(_),a0093e20:Vue.unref(m),"11a70195":Vue.unref(f)})));const r=e().get("fontColor"),v=e().get("fontBlack"),m=e().get("shadow"),f=e().get("themeColor"),_=Vue.inject("fontGray"),g=Vue.reactive([]),h=Vue.computed((()=>g.filter((e=>e.name.includes(y.value))))),y=Vue.ref(""),j=Vue.reactive(new Map),x=Vue.ref(0),k=Vue.computed((()=>C.get(w[x.value]))),w=Vue.reactive(["全部","男歌手","女歌手","组合"]),C=new Map([["全部",-1],["男歌手",1],["女歌手",2],["组合",3]]),B=Vue.ref(0),E=Vue.computed((()=>S.get(N[B.value]))),N=["全部","华语","欧美","日本","韩国","其他"],S=new Map([["全部",-1],["华语",7],["欧美",96],["日本",8],["韩国",16],["其他",0]]),G=Vue.reactive("全部,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,#".split(",")),b=Vue.ref("全部"),A=Vue.inject("firstLoading"),D=Vue.inject("hideScroll"),I=async(e,t)=>{D(),g.splice(0),"歌手地区"==t?B.value=e:"歌手类型"==t?x.value=e:b.value=G[e],await Vue.nextTick();const a=j.get(k.value+""+E.value+b.value);a?g.push(...a):M()},L=e=>{y.value=e},M=async()=>{A.value=!0;try{const e=await t(k.value,E.value,100,"全部"==b.value?void 0:b.value.toLowerCase()),{artists:a}=e;a.forEach((e=>{const{img1v1Url:t,id:a,name:u,fansCount:s}=e;g.push({id:a,name:u,avatar:t,score:s})})),j.set(k.value+""+E.value+b.value,[...g])}catch(e){a(u.ERROR,e.message)}A.value=!1};return M(),(e,t)=>{const a=Vue.resolveDirective("prevent");return Vue.openBlock(),Vue.createElementBlock("div",i,[Vue.createVNode(Vue.unref(o),{onGetContent:L}),c,Vue.createVNode(Vue.unref(n),{onGetActive:I,type:N,"active-value":0,"show-title":!1,title:"歌手地区",class:"area"}),Vue.createVNode(Vue.unref(n),{onGetActive:I,type:w,"active-value":0,"show-title":!1,title:"歌手类型"},null,8,["type"]),Vue.createElementVNode("ul",V,[(Vue.openBlock(!0),Vue.createElementBlock(Vue.Fragment,null,Vue.renderList(G,((e,t)=>Vue.withDirectives((Vue.openBlock(),Vue.createElementBlock("li",{key:e,onClick:e=>I(t,"歌手姓名"),class:Vue.normalizeClass({"is-active":b.value==e})},[Vue.createTextVNode(Vue.toDisplayString(e),1)],10,d)),[[a]]))),128))]),p,Vue.createVNode(Vue.unref(l),{"singer-list":Vue.unref(h)},null,8,["singer-list"])])}}}),[["__scopeId","data-v-d6cce558"]]);export{v as default};
