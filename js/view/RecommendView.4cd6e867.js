import{u as s,w as e,x as a,h as t}from"../element-plus/element-plus.79622da4.js";import{G as i,ax as o,o as l,M as n,O as r,c,a7 as p,a as m,F as u,Z as d,u as h,U as f,T as g,z as y,ay as j,az as v}from"../@vue/@vue.7ad02ad1.js";import{_,u as x,a as k,g as C,b,c as z,d as w,e as E,f as I,m as U,M as R}from"../../static/index-4c3800ce.js";/* empty css                                                                                                                     */import{A as M}from"../index/index.ffd534ec.js";import{A}from"../index/index.44c23854.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../crypto-js/crypto-js.6e421324.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../lyc-storage/lyc-storage.12bb0aad.js";const G=["src"],O=_(i({__name:"index",props:{pictures:null,type:null,height:null,position:null},setup:a=>(o((s=>({"6e40ffc5":a.height}))),(t,i)=>{const o=s,d=e;return l(),n(d,{height:a.height,type:a.type,"indicator-position":a.position,class:"carousel"},{default:r((()=>[(l(!0),c(u,null,p(a.pictures,(s=>(l(),n(o,{key:s},{default:r((()=>[m("img",{src:s.pic},null,8,G)])),_:2},1024)))),128))])),_:1},8,["height","type","indicator-position"])})}),[["__scopeId","data-v-32a6cc0d"]]),B=s=>(j("data-v-e1928c67"),s=s(),v(),s),D={class:"main-container scroll-container"},F={class:"musiclist"},H=B((()=>m("h4",{class:"title"},"推荐新音乐",-1))),L={class:"content"},N=["onClick"],P=[B((()=>m("span",{class:"iconfont"},"",-1)))],S={class:"right"},T=_(i({__name:"RecommendView",setup(s){o((s=>({"2b38250d":h(e),"2b2885a9":h(i),"965090f8":h(j),"3b353779":h(_),af5504fe:h(v)})));const{fontColor:e,fontBlack:i,boxShadow:j,themeColor:v,fontGray:_,contentHeight:G}=x(),B=d([]),T=d([]),V=d([]),Z=d([]),q=y("firstLoading"),{playMusic:J}=k();return(async()=>{q.value=!0;try{(await Promise.all([C(),b(10),z(40),w(10,"内地","全部","最新")])).forEach(((s,e)=>{if(0==e){const{banners:e}=s;e.forEach((s=>{const{imageUrl:e,targetId:a}=s;B.push({id:a,pic:e})}))}else if(1==e){const{playlists:e}=s;e.forEach((s=>{if(T.length<10){const{name:e,id:a,coverImgUrl:t,playCount:i,description:o,tags:l,creator:n}=s;T.push({name:e,id:a,playCount:i,description:o,image:t,tag:l,creator:{avatarUrl:n.avatarUrl,nickname:n.nickname}})}}))}else if(2==e){const{data:{list:e}}=s;for(let s of e){const{fee:e}=s.data;if(!(V.length<10))break;"0"!=e&&"8"!=e||E(V,s.data)}I(V)}else{const{data:e}=s;e.forEach((s=>{const{id:e,name:a,cover:t,playCount:i,artistName:o}=s;Z.push({id:e,name:a,image:t,playCount:i,artist:o})}))}}))}catch(s){U(R.ERROR,s.message)}q.value=!1})(),(s,e)=>{const i=t,o=a;return l(),n(o,{"max-height":h(G),noresize:""},{default:r((()=>[m("div",D,[f(h(O),{pictures:B.slice(0,5),type:"card",height:"230px"},null,8,["pictures"]),f(h(M),{title:"你的歌单补给站",playlists:T},null,8,["playlists"]),m("div",F,[H,m("div",L,[(l(!0),c(u,null,p(V,(s=>(l(),c("div",{key:s.id,class:"song-recommend"},[m("div",{onClick:e=>h(J)(s),class:"mask"},P,8,N),f(i,{src:s.songImage,loading:"lazy",class:"left"},null,8,["src"]),m("div",S,[m("p",null,g(s.name),1),m("p",null,g(s.singer),1)])])))),128))])]),f(h(A),{title:"最新mv",mvs:Z,class:"mv-list"},null,8,["mvs"])])])),_:1},8,["max-height"])}}}),[["__scopeId","data-v-e1928c67"]]);export{T as default};
