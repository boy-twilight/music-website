import{u as s,w as a,x as e,h as t}from"../element-plus/element-plus.79622da4.js";import{G as i,ax as o,o as l,M as n,O as r,c,a7 as p,a as m,F as d,Z as u,u as h,U as f,T as g,z as y,ay as j,az as v}from"../@vue/@vue.7ad02ad1.js";import{_,u as x,a as k,g as b,b as C,c as z,d as w,e as E,f as I,m as U,M as R}from"../../static/index-b302a22d.js";/* empty css                                                                                                                     */import{A as M}from"../index/index.c4b2b068.js";import{A}from"../index/index.256316ad.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../crypto-js/crypto-js.6e421324.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../pinia/pinia.07d51cb2.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../lyc-storage/lyc-storage.12bb0aad.js";const G=["src"],O=_(i({__name:"index",props:{pictures:null,type:null,height:null,position:null},setup:e=>(o((s=>({"6e40ffc5":e.height}))),(t,i)=>{const o=s,u=a;return l(),n(u,{height:e.height,type:e.type,"indicator-position":e.position,class:"carousel"},{default:r((()=>[(l(!0),c(d,null,p(e.pictures,(s=>(l(),n(o,{key:s},{default:r((()=>[m("img",{src:s.pic},null,8,G)])),_:2},1024)))),128))])),_:1},8,["height","type","indicator-position"])})}),[["__scopeId","data-v-32a6cc0d"]]),B=s=>(j("data-v-05d6c79f"),s=s(),v(),s),D={class:"main-container scroll-container"},F={class:"musiclist"},H=B((()=>m("h4",{class:"title"},"推荐新音乐",-1))),L={class:"content"},N=["onClick"],P=[B((()=>m("span",{class:"iconfont"},"",-1)))],S={class:"right"},T=_(i({__name:"RecommendView",setup(s){o((s=>({"196ba3f4":h(a),"198ae2bc":h(i),"7ce9c07d":h(j),"62b1ab60":h(_),"3af6d8b0":h(v)})));const{fontColor:a,fontBlack:i,boxShadow:j,themeColor:v,fontGray:_,contentHeight:G}=x(),B=u([]),T=u([]),V=u([]),Z=u([]),q=y("firstLoading"),{playMusic:J}=k();return(async()=>{q.value=!0;try{(await Promise.all([b(),C(10),z(40),w(10,"内地","全部","最新")])).forEach(((s,a)=>{if(0==a){const{banners:a}=s;a.forEach((s=>{const{imageUrl:a,targetId:e}=s;B.push({id:e,pic:a})}))}else if(1==a){const{playlists:a}=s;a.forEach((s=>{if(T.length<10){const{name:a,id:e,coverImgUrl:t,playCount:i,description:o,tags:l,creator:n}=s;T.push({name:a,id:e,playCount:i,description:o,image:t,tag:l,creator:{avatarUrl:n.avatarUrl,nickname:n.nickname}})}}))}else if(2==a){const{data:{list:a}}=s;for(let s of a){const{fee:a}=s.data;if(!(V.length<10))break;"0"!=a&&"8"!=a||E(V,s.data)}I(V)}else{const{data:a}=s;a.forEach((s=>{const{id:a,name:e,cover:t,playCount:i,artistName:o}=s;Z.push({id:a,name:e,image:t,playCount:i,artist:o})}))}}))}catch(s){U(R.ERROR,s.message)}q.value=!1})(),(s,a)=>{const i=t,o=e;return l(),n(o,{"max-height":h(G),noresize:""},{default:r((()=>[m("div",D,[f(h(O),{pictures:B.slice(0,5),type:"card",height:"230px"},null,8,["pictures"]),f(h(M),{title:"你的歌单补给站",playlists:T},null,8,["playlists"]),m("div",F,[H,m("div",L,[(l(!0),c(d,null,p(V,(s=>(l(),c("div",{key:s.id,class:"song-recommend"},[m("div",{onClick:a=>h(J)(s),class:"mask"},P,8,N),f(i,{src:s.songImage,loading:"lazy",class:"left"},null,8,["src"]),m("div",S,[m("p",null,g(s.name),1),m("p",null,g(s.singer),1)])])))),128))])]),f(h(A),{title:"最新mv",mvs:Z,class:"mv-list"},null,8,["mvs"])])])),_:1},8,["max-height"])}}}),[["__scopeId","data-v-05d6c79f"]]);export{T as default};
