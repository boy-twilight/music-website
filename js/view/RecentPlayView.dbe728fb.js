import{x as e,y as s}from"../element-plus/element-plus.79622da4.js";import{G as a,ax as t,d as o,i,M as n,O as l,u as r,o as p,a as m,P as d,V as _,U as u,z as c}from"../@vue/@vue.7ad02ad1.js";import{s as v}from"../pinia/pinia.07d51cb2.js";import{u as j,h as g,f as x,_ as y}from"../../static/index-4abce35a.js";/* empty css                                                                                                                     */import{A as f}from"../index/index.bafb893e.js";import"../index.vue_vue_type_style_index_0_scoped_b3813f91_lang/index.vue_vue_type_style_index_0_scoped_b3813f91_lang.b57f0142.js";import{U as h,a as w}from"../index/index.6e61eb04.js";/* empty css                                                                                                                     */import{N as z}from"../index/index.df3bc403.js";import{T as b}from"../index/index.e2f2205e.js";import"../lodash-es/lodash-es.3125e237.js";import"../@vueuse/@vueuse.5f7505c4.js";import"../@element-plus/@element-plus.cef41b68.js";import"../@popperjs/@popperjs.b78c3215.js";import"../@ctrl/@ctrl.91de2ec7.js";import"../dayjs/dayjs.5953103e.js";import"../crypto-js/crypto-js.6e421324.js";import"../async-validator/async-validator.cf877c1f.js";import"../memoize-one/memoize-one.63ab667a.js";import"../escape-html/escape-html.1935ddb3.js";import"../normalize-wheel-es/normalize-wheel-es.3222b0a2.js";import"../@floating-ui/@floating-ui.333ef71e.js";import"../vue-router/vue-router.53ff932e.js";import"../hotkeys-js/hotkeys-js.e364e5e1.js";import"../axios/axios.d4208f68.js";import"../nprogress/nprogress.787098c3.js";import"../lyc-storage/lyc-storage.12bb0aad.js";import"../index/index.8a925b6b.js";const P={class:"recent-container scroll-container"},S=y(a({__name:"RecentPlayView",setup(a){t((e=>({a53cf964:r(y),"79368d18":r(S)})));const{fontColor:y,fontGray:S,contentHeight:k}=j(),R=g(),{videoRecord:I,songRecord:V}=v(R),G=c("firstLoading"),U=o(!1),C=o(),H=o(),L=i((()=>H.value.getPage())),M=i((()=>H.value.getPageSize())),N=()=>{var e;null==(e=C.value)||e.openSelectBox()},O=e=>{const s=I.value.findIndex((s=>s.id==e));I.value.splice(s,1)};return(async()=>{G.value=!0,await x(V.value),R.initLoveMusic(V.value),G.value=!1})(),(a,t)=>{const o=s,i=e;return p(),n(i,{"max-height":r(k)},{default:l((()=>[m("div",P,[d(u(r(h),{"page-name":"RecentPlayView",showSelect:U.value,"onUpdate:showSelect":t[0]||(t[0]=e=>U.value=e),"cur-page":r(L),"page-size":r(M),ref_key:"batch",ref:C},null,8,["showSelect","cur-page","page-size"]),[[_,U.value]]),d(u(r(b),{active:"song"},{content:l((()=>[u(o,{label:"歌曲",name:"song"},{default:l((()=>[u(r(w),{onOpenSelect:N,"page-name":"RecentPlayView",ref_key:"table",ref:H},null,512)])),_:1}),u(o,{label:"视频",name:"video "},{default:l((()=>[d(u(r(z),{text:"暂无视频播放记录"},null,512),[[_,0==r(I).length]]),d(u(r(f),{mvs:r(I),"show-delete":!0,transitionName:"list","show-pagination":!0,onGetDeleteId:O},null,8,["mvs"]),[[_,r(I).length>0]])])),_:1})])),_:1},512),[[_,!U.value]])])])),_:1},8,["max-height"])}}}),[["__scopeId","data-v-7d041132"]]);export{S as default};
