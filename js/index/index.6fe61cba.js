import{G as e,ax as s,u as a,Z as l,o as n,c as o,a as i,U as c,n as t}from"../@vue/@vue.59fec093.js";import{s as p}from"../pinia/pinia.81428a33.js";import{g as u,u as d,a as r,C as m,e as v,d as _,_ as g}from"../../assets/index-41f64cc1.js";import"../element-plus/element-plus.85c7c360.js";import{_ as h}from"../index.vue_vue_type_style_index_0_scoped_2dc764e5_lang/index.vue_vue_type_style_index_0_scoped_2dc764e5_lang.3ccf6b70.js";const f={class:"online-batch"},y={class:"operation-select"},x=g(e({__name:"index",props:{songs:null,songIdMapper:null},emits:["closeSelect"],setup(e,{emit:g}){s((e=>({"28ef169c":a(x)})));const x=u().get("themeColor"),C=d(),{isPlay:I,songList:S,songListId:j,playProcess:k,playTime:w,current:E}=p(C),M=r(),{loveMusicId:L,loveSongs:b}=p(M),F=l([]),G=e=>{0!=F.length&&F.splice(0),F.push(...e)},O=async()=>{F.length>0?(I.value=!1,k.value=0,w.value=0,await t(),F.forEach((e=>{null==j.value.get(e.id)&&S.value.unshift(e)})),E.value=j.value.get(F[0].id),I.value=!0,v(_.SUCCESS,"已添加到播放列表！")):v(_.INFO,"请添加歌曲！")},P=()=>{F.forEach((e=>{M.addMuiscDownload(e)}))},U=()=>{F.forEach((e=>{e.isLove=!0;null==L.value.get(e.id)&&b.value.push(e)}))};return(s,l)=>(n(),o("div",f,[i("div",y,[c(a(m),{icon:"",name:"播放",class:"play",onClick:O}),c(a(m),{icon:"",name:"收藏",onClick:U}),c(a(m),{icon:"󰌄",onClick:P,name:"下载"}),c(a(m),{icon:"",name:"取消操作",onClick:l[0]||(l[0]=e=>g("closeSelect",!1)),class:"cancel"})]),c(a(h),{songs:e.songs,"song-id-mapper":e.songIdMapper,"show-select":!0,"show-header":!1,onGetSelectItems:G},null,8,["songs","song-id-mapper"])]))}}),[["__scopeId","data-v-340bd685"]]);export{x as O};
