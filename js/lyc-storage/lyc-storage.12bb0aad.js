import{a as t,c as e}from"../crypto-js/crypto-js.6e421324.js";var r={},o=e&&e.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(r,"__esModule",{value:!0});var i=r.initStorage=void 0,n=o(t),s=function(){return(new Date).getTime()},a=function(t,e){return t=function(t){return"string"==typeof t}(t)?t:JSON.stringify(t),n.default.AES.encrypt(t,e).toString()},c=function(){function t(t,e){this.storage="local"===t?localStorage:sessionStorage,this.config=e}return t.prototype.get=function(t){var e=this.storage.getItem(t);if(e){e=JSON.parse(e);var r=this.config,o=r.isCrypto,i=r.secretKey,a=e.data,c=e.expire;if(c)if(s()>=c)return this.remove(t);return o?function(t,e){return JSON.parse(n.default.AES.decrypt(t,e).toString(n.default.enc.Utf8))}(a,i):a}},t.prototype.set=function(t,e,r){var o=this.config,i=o.isCrypto,n=o.secretKey;this.storage.setItem(t,JSON.stringify({data:i?a(e,n):e,expire:r?s()+r:void 0}))},t.prototype.remove=function(t){this.storage.getItem(t)&&this.storage.removeItem(t)},t.prototype.clear=function(){this.storage.clear()},t}();i=r.initStorage=function(t,e){void 0===t&&(t="local"),void 0===e&&(e={isCrypto:!1,secretKey:""});var r=new c(t,e);return{set:function(t,e,o){r.set(t,e,o)},get:function(t){return r.get(t)},remove:function(t){r.remove(t)},clear:function(){r.clear()}}};export{i};
